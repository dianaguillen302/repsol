var CardXL={controller:null,init:function(){CardXL.controller=new ScrollMagic.Controller,$(document).find(".card-xl.bg-image:not(.isAuthor), .card-xl:not(.isAuthor) .bg-image").each(function(){CardXL.parallaxAnimate($(this))}),$(document).find(".card-xl:not(.isAuthor)").each(function(){$(document).find(".card-es-component").parent().prev().hasClass("hero-moments")||$(document).find(".card-es-component").parent().prev().hasClass("hero")||CardXL.loadAnimate($(this))}),$(document).find(".input-dynamic-link").each(function(){var t,a;window.innerWidth<1024&&(t=$(this).attr("value"),a=$(this).closest(".card-product"),null!=t)&&(a.find(".JS-modal-link").children("a").attr("href",t),a.find(".JS-modal-link").removeClass("JS-modal-link"))}),$(".card-funnel-button").click(function(t){t.preventDefault(),link=$(this).children(".rp-btn.rp-link-click").attr("href");t={id:$(this).attr("data-product-id"),name:$(this).attr("data-product-name"),rate:$(this).attr("data-product-rate"),family:$(this).attr("data-product-family"),commodity:$(this).attr("data-product-commodity"),isFlatRate:$(this).children(".productIsFlatType").text()};Repsol.utils.createStorage("quoteProduct",t,!1),setTimeout(function(){window.location=link},1e3)})},event:function(){$(window).resize(function(){CardXL.parallaxAnimate()})},parallaxAnimate:function(t){var a,r;0<t.find(".img-animate").length&&1e3<$(window).width()&&(r=t.find(".img-animate"),a=t.height()/2,r=TweenMax.from(r,.5,{transform:"scale(1.30)",ease:Power0.easeNone}),new ScrollMagic.Scene({triggerElement:t[0],duration:a}).setTween(r).addTo(CardXL.controller))},loadAnimate:function(t){var a,r;0<t.length&&(a=t.height()/2,r=TweenMax.fromTo(t,.5,{opacity:"0",ease:Power0.easeNone},{opacity:"1",ease:Power0.easeNone},.2),new ScrollMagic.Scene({triggerElement:t[0],duration:a,reverse:!1,triggerHook:.8}).setTween(r).addTo(CardXL.controller))}},CardTariff={init:function(){$(document).find(".card-tariff:not(.isAuthor)").each(function(){var t=$(this).data("product").split("/"),t=t[t.length-1];-1<$(this).find(".card-product-link .rp-link").attr("href").indexOf("?")?$(this).find(".card-product-link .rp-link").attr("href",$(this).find(".card-product-link .rp-link").attr("href")+"&producto="+t):$(this).find(".card-product-link .rp-link").attr("href",$(this).find(".card-product-link .rp-link").attr("href")+"?producto="+t)}),CardTariff.event()},event:function(){$(document).find(".card-tariff:not(.isAuthor)").each(function(){var r=$(this);r.on("click",".js-cmb-modal",function(t){t.preventDefault();var t=-1<$(".rp-logo > picture > img").attr("src").indexOf("repsol-portugal"),a=r.attr("data-product-cgi");r.parents(".carousel-card").find(".call-me-back-modal").attr("data-product-cgi",a),r.parents(".carousel-card").find(".modal-call-me-back.modal").modal("show"),t&&r.parents(".carousel-card").find(".call-me-back-modal").attr("data-component","call-me-back-card")})})}};let renderList={init:function(){$(".card-es-basic.card-comparative .rp-description li").each(function(){$(this).wrapInner("<div></div>")})}};$(document).ready(function(){CardXL.init(),CardTariff.init(),renderList.init()});