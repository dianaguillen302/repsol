let FeaturedStrip={init:function(){let e=document.querySelectorAll(".featured-strip-v2");var t=document.querySelectorAll(".featured-strip"),t=(t.length&&t.forEach(e=>{e.querySelectorAll(':scope [class*="-component"]').length?FeaturedStrip.setUsername(e):e.classList.add("d-none")}),document.querySelectorAll(".featured-strip .listBtn"));FeaturedStrip.setEmpty(t),window.matchMedia("(min-width: 1024px)").matches&&FeaturedStrip.setTitleHeight(e),window.addEventListener("resize",()=>1024<=window.innerWidth&&FeaturedStrip.setTitleHeight(e))},setUsername:t=>{if(t.classList.contains("rp-prepend-username")){var r=RepsolUserProfileModule.getUserProfile();if(r){var s=t.querySelectorAll(".featured-strip-title .rp-title p");let e=t.querySelectorAll(".featured-strip-title .rp-title p .username");e.length?e=e[0]:((e=document.createElement("span")).classList.add("username"),s[0].prepend(e));t=r.pN||r.preferredName||r.givenname||r.dN||r.displayname;e.textContent=t+", "}}},setEmpty:(e,t)=>{e.forEach(e=>{var t=e.closest(".featured-strip-container");""===e.textContent.trim()&&(e.classList.add("empty"),t.classList.add("hasEmptyListBtn"))})},setTitleHeight:e=>{0!==e.length&&e.forEach(e=>{var t=e.querySelector(".featured-strip-title"),r=e.querySelector(".image-bg"),s=e.querySelector(".rp-description"),e=e.querySelector(".rp-title");r&&!s&&e.offsetHeight<=48?t.classList.add("oneLine"):t.classList.remove("oneLine")})}};var jsonLoad,item_user=JSON.parse(sessionStorage.getItem("user"));if(item_user){let e=document,t=e.getElementById("featured-stripContainer");JSON.parse(sessionStorage.getItem("user")).user_services.Particulares?(jsonLoad={gigyauid:JSON.parse(sessionStorage.getItem("user")).user_id},$.ajax({type:"POST",url:"/bin/repsol/salesforce.getsuscriptions.json",data:JSON.stringify(jsonLoad),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){Array.isArray(e.compositeResponse[1].body.records)&&0!==e.compositeResponse[1].body.records.length?t.style.display="none":t.style.display="block"},error:function(e){console.log("Se ha producido un error al obtener")}})):t.style.display="block"}document.addEventListener("DOMContentLoaded",()=>{FeaturedStrip.init()});