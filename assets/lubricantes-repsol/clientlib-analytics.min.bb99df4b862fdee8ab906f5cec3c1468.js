var Repsol=Repsol||{},lubricantsMethodRegister="site",isLubricants=document.querySelector(".rp-lubricantes-page"),lubricantsUserType=sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).user_type:null,clickEnrolledResult=!1,varSessions=(Repsol.Analytics={typeNavigation:"navigation",typeInternal:"internal",typeExternal:"external",typeSocial:"social",events:function(){$(document).on("click","header .logged-in .logout",function(){isLubricant||Repsol.Analytics.logout($(this))}),$(document).on("click",".feed-component a",function(){Repsol.Analytics.clickSocial($(this))}),$(document).on("click",".search-coveo-component .CoveoSearchButton",function(){var e=$(this).parents(".search-coveo-component").find("input").val();$(".rp-lubricantes-page").length<1&&Repsol.Analytics.clickSearch("header-search",e)}),$(document).on("keypress",".search-coveo-component input",function(e){var t=$(this).val();13==e.which&&0<t.length&&Repsol.Analytics.clickSearch("header-search",t)}),$(document).on("click",".rp-link-click:not([href^='tel']):not([href^='mailto']):not(.download-dam):not('.download-app'):not(.download-click):not(.rp-social-link):not(.rp-footer-link):not(.rp-link-compliance):not(.rp-btn-highlited-download):not(.modal-klin__wayletbtn-already .rp-btn)",function(e){$(this).parent(".rp-btn-callmeback").length||$(this).parent(".cart-order-btn").length||$(this).parent(".link").length||$(this).parent(".distributive-es-link ").length||$(this).parents(".recommender-solidarity-initiative-component").length||$(this).parents('.ecom-logos-component[data-analytics="solidarityInitiative"]').length||$(this).parents(".js-send-landing-btn").length||$(this).parents(".cmb-header-analytics").length||$(this).parents(".card-ecommerce").length||$(this).parents(".register-component").length||$(this).parents(".minicart-footer").length||$(this).parents(".register-aux-msg-modal").length||$(this).parents(".sticky-bar").length||$(this).parent(".js-call-me-back-modal").length||$(this).parents(".header-megamenu").length||$(this).parent(".js-proposal").length||$(this).parents(".form-message").length||$(this).parents(".product-detail-sold-out-waiting-list").length||$(this).parents("#soldOutWaitingListModal").length||$(this).parents(".popup-solar360-").length||$(this).parents(".return-email-downloads .download-page").length||$(this).parents(".lead-roadcast-component").length||$(this).parents("#chargerCardsDitributiveModal").length||$(this).parents(".link-button-modal-component").length||$(this).parents(".funnel-select-supply-point-component").length||$(this).parents(".funnel-title-description-ctas-component").length||$(this).parents(".funnel-card-fare-component").length||$(this).parents(".service-detail-component").length||$(this).parents(".detail-eess-component").length||Repsol.Analytics.clickBtn($(this))}),$(document).on("click",".sticky-bar .download-app-buttons a",function(){Repsol.Analytics.clickDownloadApps($(this))}),$(document).on("click",".slick-arrow, .rp-click-interactive, .cmp-tabs__tab, .cmp-tabs__tablist__container .tab-next,.cmp-tabs__tablist__container .tab-prev,.linksbar-ecommerce-component .tab-prev, .linksbar-ecommerce-component .tab-next,.accordion-component .cmp-accordion__button, .accordion-icon-component .title-item",function(e){$(e.target).closest(".register-login-forms-container").length||$(e.target).closest(".product-detail-component").length||$(e.target).closest(".related-products-component").length||$(e.target).closest(".cmp-tabs").hasClass("tabs-manager-component")||$(e.target).closest(".store-access-component").length||$(e.target).closest(".distributive-eess-component").length||Repsol.Analytics.clickTab($(this))}),$(document).on("click","a[href^='tel']",function(e){0==$(this).closest(".link-button-modal-component").length&&0==$(this).closest(".funnel-electric-mobility-component").length&&($(this).hasClass("rp-btn")?Repsol.Analytics.clickInteraction($(this)):0==$(this).parents(".solmat-header-component").find(".numberPhoneHeader").length&&Repsol.Analytics.clickPhone($(this)))}),$(document).on("click","a[href^='mailto']",function(e){0==$(this).closest(".funnel-electric-mobility-component").length&&($(this).hasClass("rp-btn")?Repsol.Analytics.clickInteraction($(this)):$(this).hasClass("button-share-social")||Repsol.Analytics.clickEmail($(this)))}),$(document).on("click","a.download-click, a.download-dam",function(e){Repsol.Analytics.clickDownload($(this))}),$(document).on("click","a.download-app",function(e){Repsol.Analytics.clickDownloadApp($(this))}),$(document).on("click","header .header-bottom .head-1 a:not(.dropdown-item):not(.head-1-link-com):not(.head-2-link-com):not(.head-3-link-com):not(.head-1-link-com-mobile):not(.head-2-link-com-mobile):not(.head-3-link-com-mobile)",function(e){Repsol.Analytics.clickMenu($(this))}),$(document).on("click",".rp-ecommerce-page .tabs-ecommerce .rp-link.tab-link, .rp-ecommerce-page .rp-link.tab-link",function(e){Repsol.Analytics.clickDownload($(this))}),document.addEventListener("profileAnalitics",function(e){null!=e.detail&&null!=e.detail&&Repsol.Analytics.clickProfile(e.detail)},!1),$(document).on("click",".rp-corporate-page .card-ecommerce .block-content .rp-link-click",function(){Repsol.Analytics.clickBtn($(this))}),$(document).on("click",".rp-lubricantes-page .header a:not(.logout)",function(e){Repsol.Analytics.clickNavBar($(this))}),$(document).on("click",".rp-lubricantes-page .header .rp-link-login",function(){Repsol.Analytics.clickClientArea($(this))}),$(document).on("click",".rp-lubricantes-page .card-ecommerce .block-content .rp-link-click",function(){Repsol.Analytics.clickBtn($(this))}),$(document).on("click",".rp-lubricantes-page .header .logged-in .logout",function(e){Repsol.Analytics.clickLogout($(this)),e.stopPropagation()}),$(document).on("click",".gigya-login-form .gigya-forgotPassword",function(){Repsol.Analytics.clickForgotPassword($(this))}),$(document).on("submit",".gigya-login-form",function(){null!=document.querySelector(".rp-lubricantes-page")&&Repsol.Analytics.clickLogin($(this))}),$(document).on("click",".gigya-login-form .gigya-composite-control a",function(){Repsol.Analytics.clickHasProblem($(this))}),$(document).on("click",".gigya-login-form .gigyaSocialLoginLubricantes #Twiter_btn",function(){null!=document.querySelector(".rp-lubricantes-page")&&Repsol.Analytics.clickSocialLogin($(this))}),$(document).on("click",".gigya-login-form .suggestion-account-link",function(){Repsol.Analytics.clickNotHaveAccount($(this)),lubricantsMethodRegister="site"}),$(document).on("submit",".gigya-register-form",function(){Repsol.Analytics.clickRegister($(this))}),$(document).on("submit",".gigya-screen-content .gigya-otp-update-form",function(){isLubricant&&Repsol.Analytics.clickValidationReg($(this))}),$(document).on("click",".gigya-register-form .gigyaSocialRegisterLubricantes .tabbing-button",function(){alert("click social"),Repsol.Analytics.clickSocialRegister($(this))}),$(document).on("click",".gigya-register-form .gigya-composite-control.gigya-composite-control-label a",function(){Repsol.Analytics.clickConditionsAndPolicies($(this))}),$(document).on("click",".gigya-register-form .suggestion-account-link",function(){Repsol.Analytics.clickHaveAccountLink($(this))}),$(document).on("click",".rp-lubricantes-page .card-challenge .info-container .button-container",function(){Repsol.Analytics.clickCardChallenge($(this))}),$(document).on("click",".rp-lubricantes-page .card-grid--lubricantes .card-es-basic .rp-btn",function(){Repsol.Analytics.getCardGridButton($(this))}),$(document).on("click",".rp-lubricantes-page .carousel-component .card-gas-cylinder .rp-btn",function(){Repsol.Analytics.getCardCarouselButton($(this))}),$(document).on("click",".rp-lubricantes-page .gallery-automatic .carousel-images-component .rp-btn",function(){Repsol.Analytics.clickAutomaticGallery($(this))}),$(document).on("keypress",".rp-lubricantes-page .products-finder .search-input-container input",function(e){var t=$(this).val();13==e.which&&0<t.length&&Repsol.Analytics.clickProductFinderSearch("header-search",t)}),$(document).on("click",".rp-lubricantes-page .card-challenge .button-container",function(e){Repsol.Analytics.clickCardChallenge(e.currentTarget)}),$(document).on("click",".rp-lubricantes-page .card-product-lubricants .card-link .rp-btn",function(){Repsol.Analytics.clickCardLubricantesButton($(this))}),$(document).on("click",".rp-lubricantes-page .enrolled-finder .search-license-form input#search-accept-conditions-policies",function(){Repsol.Analytics.clickCheckboxAcceptConditionsPolicies($(this))}),$(document).on("click",".rp-lubricantes-page .enrolled-finder .search-license-form .row-checkbox > label a",function(){Repsol.Analytics.clickConditionsPoliciesLinks($(this))}),$(document).on("click",".rp-lubricantes-page .enrolled-finder .search.reset-enrolled-form",function(){Repsol.Analytics.clickButtonResetSearch($(this))}),$(document).on("click",".rp-lubricantes-page .enrolled-finder .search-results-JS .item-result",function(){clickEnrolledResult[0]!=$(this)[0]?(clickEnrolledResult=$(this),Repsol.Analytics.clickItemResultSearch($(this))):clickEnrolledResult=!1}),$(document).on("click",".rp-lubricantes-page .enrolled-finder .search-results-JS .btn-select-item-result",function(){Repsol.Analytics.clickButtonResultSearch($(this))}),$(document).on("click",".rp-lubricantes-page .enrolled-finder .filter-enrolled-finder-container .product-facets-container-JS .filters-item-JS input[type='radio']",function(){Repsol.Analytics.clickButtonRadioFilter($(this))}),$(document).on("click",".rp-lubricantes-page .enrolled-finder .filter-enrolled-finder-container .card-ecommerce .link-container .download-click",function(){Repsol.Analytics.clickButtonTechnicalSheet($(this))}),$(document).on("click",".rp-lubricantes-page .enrolled-finder .message-empty-product-list-JS .rp-btn.cmp-noresults-button",function(){Repsol.Analytics.clickButtonNewSearch($(this))}),$(document).on("click",".rp-lubricantes-page .enrolled-finder .enrolled-finder .search-history .history-list p",function(){Repsol.Analytics.clickLastItemSearch($(this))}),$(document).on("click",".rp-lubricantes-page .contact-form-component .conditions-policies input[type='checkbox']",function(){Repsol.Analytics.clickContactFormCheckbox($(this))}),$(document).on("click",".rp-lubricantes-page .contact-form-component .conditions-policies .link-reference",function(){Repsol.Analytics.clickContactFormReference($(this))}),$(".rp-lubricantes-page .contact-form-component .message-container .btn-close").on("click",function(e){Repsol.Analytics.clickContactFormMessageClose($(this))}),$(document).on("click",".cmp-breadcrumb li a",function(){Repsol.Analytics.isAriaPage()&&Repsol.Analytics.clickBtn($(this))}),$(document).on("click",".footer .footer-nav .footer-logo a",function(){Repsol.Analytics.isAriaPage()&&Repsol.Analytics.clickFooterLink($(this))}),$(document).on("click",".footer-inferior-bar .footer-container .multilink-nav a",function(){Repsol.Analytics.isAriaPage()&&Repsol.Analytics.clickBtn($(this))})},videoRom:function(e,t,n,o){var i=e.get(0),a=e.find("source").attr("src")||e.attr("src")||void 0;var l=0,c=0,s="0%",i=(i&&"VIDEO"===i.nodeName?(l=i.currentTime.toFixed(2),s=(0<(c=i.duration.toFixed(2))?l/c*100:0).toFixed(2)+"%","start"===t?s="0%":"complete"===t?s="100%":o&&(s=o)):e.hasClass("open-floating-video-modal")&&(c=l=void 0,s="start"===t?"0%":"complete"===t?"100%":s),{event:t||"video_rom",video_current_time:l||void 0,video_duration:c||void 0,video_percent:s||void 0,video_status:n||void 0,video_title:(e=>{if(e)return(e=e.split("/"))[e.length-1].split(".").slice(0,-1).join(".")})(a)||void 0,video_url:(e=>{if(e)return e.split(".").slice(0,-1).join(".")})(a)||void 0,component_name:Repsol.Analytics.getComponentLink(e),component_position:Repsol.Analytics.getComponentPosition(e)||Repsol.Analytics.getComponentLink(e)});Repsol.Analytics.setInfoClick(i)},clickMenu:function(e){e={event:"menu_click",link_domain:Repsol.Analytics.getDomineLink(e),link_text:Repsol.Analytics.getTextLink(e),link_url:e.attr("href")||"",link_type:Repsol.Analytics.getTypeLink(e),page_language:Repsol.Analytics.getLanguage(),component_name:"header",menu_name:"main"};Repsol.Analytics.setInfoClick(e)},clickMenuNavigation:function(e){e={event:"menu_click",link_domain:Repsol.Analytics.getDomineLink(e),link_text:"language",link_url:e.attr("href")||"",page_language:Repsol.Analytics.getLanguage(),component_name:"header",menu_selected_language:-1<e.text().indexOf("Español")?"es":"en"};Repsol.Analytics.setInfoClick(e)},clickSearch:function(e,t,n){t={event:"search",search_term:t,search_engine_name:e};null!=n&&(t.search_suggestion=n),Repsol.Analytics.setInfoClick(t)},clickProfile:function(e){e={event:"profile_actions",profile_action:e.action,profile_section:e.section,profile_element:e.element};Repsol.Analytics.setInfoClick(e)},clickDownload:function(e){var t={event:"file_download",file_extension:Repsol.Analytics.getFileExtension(e.attr("href"))||"",file_name:Repsol.Analytics.getFilename(e.attr("href"))||"",link_url:e.attr("href")||"",link_text:Repsol.Analytics.getTextLink(e),link_domain:Repsol.Analytics.getDomineLink(e),component_name:Repsol.Analytics.getComponentLink(e)},n=$("meta[name='portal']"),n=(!!(n.length&&void 0!==n.attr("content")&&-1<n.attr("content").indexOf("corporate"))&&(t.file_extension=null!=e.attr("data-filename-analytics")?Repsol.Analytics.getFileExtension(e.attr("data-filename-analytics")):Repsol.Analytics.getFileExtension(e.attr("href"))||"",t.file_name=null!=e.attr("data-filename-analytics")?e.attr("data-filename-analytics"):Repsol.Analytics.getFilename(e.attr("href"))||""),document.querySelector(".enrolled-finder")),t=Repsol.Analytics.isEcommerce(e,t);n||Repsol.Analytics.setInfoClick(t)},clickDownloadApp:function(e){var t={event:"app_download_click",link_domain:Repsol.Analytics.getDomineLink(e),file_name:"app "+(null!=e.attr("data-name")?e.attr("data-name"):""),link_url:e.attr("href")||"",component_name:Repsol.Analytics.getComponentLink(e)},t=Repsol.Analytics.isEcommerce(e,t);Repsol.Analytics.setInfoClick(t)},clickPhone:function(e){var t={event:"interaction",element_type:"phone",link_text:e.hasClass("delio_icon")?0<(t=e.next(".rp-link")).length?$.trim(Repsol.Analytics.getFreeSpaceText(t.text())):"":$.trim(Repsol.Analytics.getFreeSpaceText(e.text())),component_name:Repsol.Analytics.getComponentLink(e),component_position:Repsol.Analytics.getComponentPosition(e)||Repsol.Analytics.getComponentLink(e)},n=document.querySelector('meta[name="portal"]');(n&&"portugal"===n.getAttribute("content").toLowerCase()&&e.is("a.rp-link.drp_ring_container")||0<e.closest("#select-yes-js").length)&&(t.component_description=Repsol.Analytics.getComponentDesc(e),t.element_description="telefono para contratar",t.content_name=AnalyticsPT.getContentName(e),t.component_catalogue=Repsol.Analytics.getComponentCatalog(e)),Repsol.Analytics.setInfoClick(t)},clickEmail:function(e){e={event:"interaction",link_text:$.trim(Repsol.Analytics.getFreeSpaceText(e.text())),element_type:"email",component_name:Repsol.Analytics.getComponentLink(e)};Repsol.Analytics.setInfoClick(e)},clickTab:function(e){var t,n=e.parents(".rp-lubricantes-page .enrolled-finder"),o={event:"interaction",link_text:e.attr("data-text")?Repsol.Analytics.getFreeSpaceText(e.attr("data-text")):Repsol.Analytics.getFreeSpaceText(e.text()),component_name:Repsol.Analytics.getComponentLink(e),element_type:Repsol.Analytics.getTypeInteraction(e)};e.find(".cmp-accordion__icon, .accordion-icon").length&&(o.component_position=Repsol.Analytics.getComponentPosition(e)?Repsol.Analytics.getComponentPosition(e):void 0,o.content_name=Repsol.Analytics.getContentName(e),e.find(".cmp-accordion__icon").length?(t="true"===e.attr("aria-expanded"),o.element_description=t?"close":"open"):e.find(".accordion-icon").length&&(t=e.hasClass("collapsed"),o.element_description=t?"close":"open")),n&&(o.user_id=Repsol.Analytics.getIdUser()||void 0),Repsol.Analytics.setInfoClick(o)},clickBullet:function(e){e={event:"interaction",link_text:e.attr("data-text")?Repsol.Analytics.getFreeSpaceText(e.attr("data-text")):Repsol.Analytics.getFreeSpaceText(e.text()),component_name:Repsol.Analytics.getComponentLink(e),component_position:Repsol.Analytics.getComponentPosition(e)||Repsol.Analytics.getComponentLink(e),element_type:Repsol.Analytics.getTypeInteraction(e)};Repsol.Analytics.setInfoClick(e)},clickInteraction:function(e){e={event:"interaction",link_text:e.attr("data-text")?Repsol.Analytics.getFreeSpaceText(e.attr("data-text")):Repsol.Analytics.getFreeSpaceText(e.text()),component_name:Repsol.Analytics.getComponentLink(e),component_position:Repsol.Analytics.getComponentPosition(e)||Repsol.Analytics.getComponentLink(e),element_type:"button"};Repsol.Analytics.setInfoClick(e)},clickInteractionCheckbox:function(e){e={event:"interaction",link_text:e.attr("data-text")?Repsol.Analytics.getFreeSpaceText(e.attr("data-text")):Repsol.Analytics.getCheckboxText(e),component_name:Repsol.Analytics.getComponentLink(e),component_position:void 0,element_type:"checkbox"};Repsol.Analytics.setInfoClick(e)},clickInteractionCheckboxSVA:function(e){e={event:"interaction",link_text:Repsol.Analytics.getTextLinkSVA(e),element_type:"checkbox",component_name:Repsol.Analytics.getComponentLink(e)};Repsol.Analytics.setInfoClick(e)},getTypeInteraction:function(e){var t,n;return e.hasClass("filter-es")||e.hasClass("switch-element")?"filter":e.hasClass("btn-round")?"show-more":e.hasClass("tab-next")||e.hasClass("slick-next")?"next":e.hasClass("tab-prev")||e.hasClass("slick-prev")?"prev":0<e.parents(".cmp-tabs__tablist").length?"tab":0<e.parents(".accordion-component").length||0<e.parents(".accordion-icon-component").length||0<e.parents(".cmp-accordion-container").length?"drop-down":0<e.parents(".faqs-sidebar-component").length?"faqs":0<e.parents(".slick-dots").length?(t="","bullet-"+(t=0<(n=e.attr("id")).length?n.substring(n.length-2):t)):e.hasClass("rp-btn")||e.hasClass("rp-link-click")?"button":e.hasClass("js-modal-tooltip")?"info-circle":e.is(".cmp-form-options--checkbox .cmp-form-options__field-input")?"checkbox":e.is("input[type='radio']")?"radio":-1!=e.attr("href")?.indexOf("tel:")?"phone":void 0},getRelativePagination:function(e,t){return t<e?"next":e<t?"prev":null},getContentName:function(e){return e.closest("[class*='-component']").find(".content-name").length?e.closest("[class*='-component']").find(".content-name").text().trim()||"":(console.warn("Content Name not found for ",e),"")},getContentName:function(e){return e.parents("[class*='-component']").find("[data-content-name]").length?e.parents("[class*='-component']").find("[data-content-name]").text().trim()||void 0:e.parents("[class*='-component']").find(".content-name").length&&e.parents("[class*='-component']").find(".content-name").text().trim()||void 0},clickBtn:function(t){var n=!!$(".rp-ecommerce-page").length,e=!!$(".rp-intranet-page").length,o=!!t.parents(".card-ecommerce.card-tool").length,i=!!$(".rp-lubricantes-page").length,a=!!$(".promotion-home, .promotion-subsections ").length,l=!!$(".rp-corporate-page").length,c={event:"link_click",link_domain:Repsol.Analytics.getDomineLink(t),link_text:Repsol.Analytics.getTextLink(t),link_url:t.attr("href")||"",outbound:Repsol.Analytics.getOutboundLink(t),link_type:Repsol.Analytics.getTypeLink(t),component_name:Repsol.Analytics.getComponentLink(t),link_is_cta:t.attr("data-cta")||"False"},l=(l&&(t.parents('[data-element="typedownload"]').length?t.closest(".highlighted-download").hasClass("download-user-is-logged")&&(l=t.closest(".highlighted-download").find(".download-page")).length&&(s=l.attr("data-url"),c.link_url=s,delete c.outbound):t.parents('[data-element="typeaccess"]').length&&t.closest(".highlighted-download").hasClass("download-user-is-logged")&&(l=t.closest(".highlighted-download").find(".premium-page")).length&&(s=l.attr("data-url"),c.link_url=s,delete c.outbound)),n&&(c=Repsol.Analytics.isEcommerce(t,c)),e&&(c=Repsol.Analytics.isIntranet(t,c)),i&&o&&(c.content_name=t.parents(".card-ecommerce.card-tool")?.find(".card-title .rp-title p")[0]?.textContent),this.isAriaPage&&(c.content_name=Repsol.Analytics.getContentName(t),c.component_description=Repsol.Analytics.getComponentDesc(t),c.component_position_x=Repsol.Analytics.getPositionX(t),c.component_position_y=Repsol.Analytics.getPositionY(t),c.component_catalogue=Repsol.Analytics.getComponentCatalog(t)),t.parents(".featured-strip-client-button").length),s=(l&&(c.component_name="Featured Strip Client Area",Repsol.Analytics.getIdUser())&&(c.link_url=document.querySelector(".private-area-JS.dropdown-item")?.href||""),t.parents('.gas-thank-component[data-page-success="true"]').length),n=(s&&(c.content_name="obrigado por comprar com repsol"),!(!t.closest(".card-ecommerce").length||!t.closest(".tabs-component").length)),e=(n&&(c.component_name=t.closest(".tabs-component").attr("data-component")),t.parents(".filter-enrolled-finder-container").length);if(i&&e&&(c.content_name=t.parents(".card-gas-cylinder").find(".card-title p").text(),c.user_id=Repsol.Analytics.getIdUser()),a&&t.hasClass("open-modal-promotion")){o=JSON.parse(window.sessionStorage.getItem("user"));let e;e=o?(l=getRedirectsCorporate360(t),o.user_services&&o.user_services.Corporacion360?l.corporateUrl:l.noCorporateUrl):(s=new CustomEvent("openModalEvent"),void document.dispatchEvent(s));n={event:"link_click",link_text:Repsol.Analytics.getTextLink(t),link_url:e,link_is_cta:t.attr("data-cta")||"False"};e?(n.link_domain=Repsol.Analytics.getDomineLink(t),n.outbound=Repsol.Analytics.getOutboundLink(t),n.link_type=Repsol.Analytics.getTypeLink(t)):(n.link_url=void 0,n.link_domain=void 0,n.outbound=void 0,n.link_type=void 0),c={...c,...n}}Repsol.Analytics.setInfoClick(c)},clickSocial:function(e){var t={event:"social_interaction",social_interaction_type:Repsol.Analytics.getSocialInteractio(e),component_name:"barra corporativa"};e.hasClass("share-button")&&(t={event:"social_interaction",social_interaction_type:"share",social_destination:"teams",component_name:"barra corporativa"}),Repsol.Analytics.setInfoClick(t)},clickTag:function(e,t){e.attr("href",t);t={event:"link_click",link_domain:Repsol.Analytics.getDomineLink(e),link_text:Repsol.Analytics.getTextLink(e),link_url:e.attr("href")||"",outbound:Repsol.Analytics.getOutboundLink(e),link_type:Repsol.Analytics.getTypeLink(e),content_name:e.parents(".rp-card-component").find(".title").text(),component_name:Repsol.Analytics.getComponentLink(e),link_is_cta:e.attr("data-cta")||"False"},t=Repsol.Analytics.isIntranet(e,t);Repsol.Analytics.setInfoClick(t)},getCookie:function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),o=0;o<n.length;o++){for(var i=n[o];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""},getAccountInfoDL:function(){var e;return"rpVar_DLaccount"in sessionStorage?(e=window.sessionStorage.getItem("rpVar_DLaccount"),JSON.parse(e)):"DLaccount"in sessionStorage?(e=window.sessionStorage.getItem("DLaccount"),JSON.parse(e)):window.gigya?gigya.accounts.getAccountInfo({include:"profile,data,preferences",callback:getAccountInfoResponseDL}):(console.log("DLaccount not found"),"")},setInfoClick:function(e){var t=Repsol.Analytics.getCookie("isLogged");!!$(".rp-ecommerce-page").length&&"true"==t&&null!=t&&(t=Repsol.Analytics.getAccountInfoDL())&&""!=t&&(e.user_id=t.user||"undefined",e.services_available=t.service||"undefined",e.services_available_quantity=t.serviceQty||"undefined"),Repsol.Analytics.isInsideIframe()||window.dataLayer.push(e),Repsol.Analytics.sendAdobeDataLayer(e)},setInfoClickPopUp360(e){var t=Repsol.Analytics.getCookie("isLogged");!!$(".rp-ecommerce-page").length&&"true"===t&&null!==t&&(t=Repsol.Analytics.getAccountInfoDL())&&""!==t&&(e.user_id=t.user||"undefined",e.services_available=t.service||"undefined",e.services_available_quantity=t.serviceQty||"undefined"),Repsol.Analytics.isInsideIframe()||window.dataLayer.push(e),Repsol.Analytics.sendAdobeDataLayer(e)},getTextLink:function(e){var t="";return 0<e.find(".rp-link").length?t=e.find(".rp-link").text():0<e.find(".rp-title").length?t=e.find(".rp-title").text():0<e.find(".title").length?t=e.find(".title").text():0<e.find(".text").length?t=e.find(".text").text():e.data("title")?t=e.data("title"):""==(t=e.text()||"").trim()&&null!=e.attr("title")&&(t=e.attr("title")),t=Repsol.Analytics.getFreeSpaceText(t),$.trim(t)},getTextLinkSVA:function(e){var t="",e=e.closest(".cmp-form-options"),t=0<e.find(".cmp-form-options__field-description .rp-body-1").length?e.find(".cmp-form-options__field-description .rp-body-1").text():"undefined";return t=Repsol.Analytics.getFreeSpaceText(t),$.trim(t)},getCheckboxText:function(t){t=t.closest(".cmp-form-options--checkbox");if(0<t.length){let e=t.find(".cmp-form-options__field-description");if(e.each(function(){if(0==$(this).closest(".pre-lopd").length)return e=$(this),!1}),0<e.length)return $.trim(Repsol.Analytics.getFreeSpaceText(e.text()))}return $.trim("")},getTooltipText:function(e){e=e.parent();if(0<e.length){e=e.find(".block-info");if(0<e.length)return $.trim(Repsol.Analytics.getFreeSpaceText(e.text()))}return $.trim(text)},getDomineLink:function(e){var e=e.attr("href"),t=null!=e&&0<e.indexOf("//")?e.indexOf("//")+2:0,t=(e="#"!=e&&null!=e?e.slice(t):"").split("/"),e=0<t.length?t[0]:"";return e=""===e?window.location.hostname:e},getTypeLink:function(e){var e=(e=Repsol.Analytics.getDomineLink(e)).replace(/www./g,""),t=(t=window.location.hostname).replace(/www./g,""),n=-1<e.indexOf("repsol");return t==e?Repsol.Analytics.typeNavigation:n?Repsol.Analytics.typeInternal:Repsol.Analytics.typeExternal},getOutboundLink:function(e){return Repsol.Analytics.getTypeLink(e)==Repsol.Analytics.typeNavigation?"False":"True"},getComponentLink:function(e){e=e.closest("[data-component]");return 0<e.length?(0<e.closest("[data-component]").length?e.closest("[data-component]"):e).attr("data-component").toLowerCase():null},getComponentParentLink:function(e){e=e.parents("[data-component]");return 0<e.length?e.attr("data-component").toLowerCase():null},getComponentPosition:function(e){e=e.parents("[data-component-position]");return 0<e.length?(0<e.parents("[data-component-position]").length?e.parents("[data-component-position]"):e).attr("data-component-position").toLowerCase():null},getLanguage:function(){return"es-ES"==$(document).find("html").attr("lang")||"es"==$(document).find("html").attr("lang")?"es":"pt-PT"==$(document).find("html").attr("lang")||"pt"==$(document).find("html").attr("lang")?"pt":"en"},getInfoProfile:function(e,t,n){var o=null;switch(e){case 1:o="suscripciones";break;case 2:o="aplicaciones";break;case 3:o="gestiones";break;case 4:o="favoritos"}return{detail:{action:t?"add":"remove",section:o,element:n}}},getSocialInteractio:function(e){var t="like";return 0<e.find(".icon-rp-NoLike").length?t="like":0<e.find(".icon-rp-Clock").length?t="dislike":0<e.find(".icon-rp-Share").length||0<e.find(".icon-rp-Share1").length?t="share":0<e.find(".icon-rp-Chat").length?t="comments":0<e.find(".icon-rp-Eye_Open").length&&(t="visit"),t},getFunnelEventDetail:function(e){var t="long";return t=e.closest("[data-event-detail]").length?e.closest("[data-event-detail]"):t},pageLoad:function(){var e=Repsol.Analytics.getPageSections(),t=Repsol.Analytics.getIdUser(),n=Repsol.Analytics.getInfoUser(),o=isRedInterna,i=null!=n.iM?n.iM:n.IsManager,a=Repsol.Analytics.getCookie("country-selected-rp"),l=window.location.href,e={event:"page_view",business:$("meta[name='rp-business']").attr("content"),page_section:e.section,page_subsection_1:e.subsecction1,page_subsection_2:e.subsecction2,page_type:Repsol.Analytics.getPageType(),page_language:e.languaje,page_is_public:!0,page_real_url:window.location.href,page_environment:Repsol.Analytics.getPageEnviroment(),page_last_publication_date:datePagePublic||null,page_first_publication_date:datePageCreate||null,page_replication_date:"undefined"!=typeof datePageReplication?datePageReplication:null,page_modification_date:"undefined"!=typeof datePageModification?datePageModification:null,page_content_type:Repsol.Analytics.getPageContent(),page_channel:e.section,page_error_location:$(document).find("body").attr("data-error-page")?$(document).find("body").attr("data-error-page"):null,page_business_area:e.section,page_hostname_real:window.location.hostname,page_title_normalized:$(document).find("title").text().toString(),user_id:t||n.rId||n.repsolId||null,user_office:n.oL||null,page_app_type:Repsol.Analytics.getDevice(),user_employee_type:n.type||null,user_province:null,user_is_leader:null!=i?i:null,user_country:n.cou||n.country||null,user_business:n.de||n.department||null,user_is_logged:null!=t||null!=n.type,page_country:l.includes("lubrican")?JSON.parse(a)?.countryId:"",page_segmentation_head:null!=$("meta[name='coveo:employee-hierarchy']").attr("content")&&"no-boss"!=$("meta[name='coveo:employee-hierarchy']").attr("content"),page_segmentation_country:Repsol.Analytics.replaceCountrySegmentation(Repsol.Analytics.getSegmentation("undefined"!=typeof page_segmentation_country?page_segmentation_country:null)),page_main_tag:Repsol.Analytics.getTagPage("undefined"!=typeof page_tags?page_tags:null,"1"),page_secondary_tags:Repsol.Analytics.getTagPage("undefined"!=typeof page_tags?page_tags:null,"2"),page_cost:"undefined"!=typeof page_cost&&""!=page_cost?page_cost:null,user_is_employee:o};Repsol.Analytics.isEcommercePage(e),Repsol.Analytics.isLubricantsPage(e),Repsol.Analytics.isCorporatePage(e),Repsol.Analytics.isIntranetPage(e),Repsol.Analytics.setInfoClick(e)},isEcommercePage:function(e){var t=$("meta[name='portal']"),t=!!(t.length&&void 0!==t.attr("content")&&-1<t.attr("content").indexOf("ecommerce")),n=Repsol.Analytics.getCookie("isLogged");t&&"true"==n&&null!=n&&(t=Repsol.Analytics.getAccountInfoDL(),e.user_id=t.user,e.user_is_logged=!0)},isLubricantsPage:function(e){var t=$("meta[name='portal']");!!(0<t.length&&void 0!==t.attr("content")&&(t.attr("content").includes("lubricantes.repsol")||t.attr("content").includes("lubricants.repsol")||t.attr("content").includes("repsol-lubricantes")))&&sessionStorage.getItem("user")&&(e.user_id=JSON.parse(sessionStorage.getItem("user"))?.user_id,e.user_is_logged=!0)},isCorporatePage:function(e){var t=$("meta[name='portal']"),t=!!(t.length&&void 0!==t.attr("content")&&-1<t.attr("content").indexOf("corporate")),n=Repsol.Analytics.getCookie("isLogged");if(!t||"false"!=n&&""!=n&&null!=n?e.user_is_logged=!0:(sessionStorage.removeItem("user"),e.user_is_logged=!1),t){var n=new URLSearchParams(window.location.search),t=n.get("sfmc_id"),n=n.get("sfmc_activityid"),t=(null!==t?sessionStorage.setItem("sfmc_id",t):t=sessionStorage.getItem("sfmc_id"),null!==n?sessionStorage.setItem("sfmc_activity_id",n):n=sessionStorage.getItem("sfmc_activity_id"),e.sfmc_id=t,e.sfmc_activity_id=n,JSON.parse(localStorage.getItem("subscriptions"))),o=null;if(null!==t)for(var i=t.interests,o="",a=0;a<i.length;a++){var l=i[a];"create"===l.action&&a!==i.length-1?o+=l.interestid+" | ":"create"===l.action&&a===i.length-1&&(o+=l.interestid)}e.user_interests=o,e.page_content_group=null!=page_tags_territory&&0!==page_tags_territory.length?page_tags_territory.replace(/[\[\]]/g,""):null}},isIntranetPage:function(e){var t=$("meta[name='portal']");!t.length||void 0===t.attr("content")||"intranet"!==t.attr("content").toLowerCase()||"undefined"==typeof page_tags_territory||(e.page_content_group=void 0!==page_tags_territory&&0!==page_tags_territory.length?page_tags_territory.replace(/[\[\]]/g,""):null)},getPageSections:function(){var e=window.location.pathname,e=(e=(e=(e=(e=(e=(e=(e=e.replace("/content","")).replace("/repsol-corporate","")).replace("/repsol-intranet","")).replace("/repsol-ecommerce","")).replace("/index.cshtml","")).replace(".html","")).substr(1,e.length)).split("/"),e={languaje:e[0]||null,section:e[1]||null,subsecction1:e[2]||null,subsecction2:e[3]||null};return null==e.section&&null==e.subsecction1&&null==e.subsecction2&&(e.section="home"),e},getPageEnviroment:function(){var e=window.location.hostname;return-1<e.indexOf("stage")?"pre":-1<e.indexOf("dev")?"dev":"pro"},getPageType:function(){switch($("meta[name=template]")[0].content){case"home-page":return"home page";case"subhome-page":return"subhome page";case"distributive-page":return"distributive page";case"asfalto-news-page":return"asfalto news page";case"chemistry-news-page":return"chemistry news page";case"you-need-know-page":return"you need to know page";case"cnmv-page":return"cnmv page";case"news-page":return"news page";case"event-page":return"event page";case"quest-page":return"quest page";case"reportage-page":return"reportage page";case"press-release-page":return"press release page";case"creative-page":return"creative page";case"empty-page":return"empty page";case"newsletter-page ":return"newsletter page ";case"faq-page":return"faq page";case"list-page":return"list page";default:return"final content page"}},getPageContent:function(){var e=$(document).find("html").attr("data-type");if(null!=e){if(-1<e.indexOf("asfalto-news-page")||-1<e.indexOf("chemistry-news-page")||-1<e.indexOf("news-page"))return"noticia";if(-1<e.indexOf("you-need-know-page"))return"debes conocer";if(-1<e.indexOf("cnmv-page"))return"cnmv";if(-1<e.indexOf("event-page"))return"evento";if(-1<e.indexOf("quest-page"))return"participa";if(-1<e.indexOf("reportage-page"))return"reportaje";if(-1<e.indexOf("press-release-page"))return"nota de presa"}return"actualidad"},getDevice:function(){let e="web";return e=navigator.standalone||window.matchMedia("(display-mode: standalone)").matches?"app":e},getIdUser:function(){var e=null!=document.querySelector(".rp-lubricantes-page")?JSON.parse(sessionStorage.getItem("user"))?.user_id:window.sessionStorage.getItem("id");return e},getFileExtension:function(e){return e.split(".").pop()},getFilename:function(e){return e.split("/").pop()},isEcommerce:function(e,t){var n,o,i,a=e.parents("[data-component]");if((0<e.closest(".card-fare").length||0<e.closest(".form-ecommerce-fields").length||0<e.closest(".form-gene-matcher").length)&&0<(l=e.closest(".card-fare,.form-ecommerce-fields,.form-gene-matcher").find(".cmp-form-options,.checkbox")).length){var l=l.find('input[type="checkbox"]');size=1,l.each(function(){n=$(this).closest("fieldset").find(".cmp-form-options__field-description").text().replace(/[\n\t]/g,"").trim()||$(this).closest(".checkbox").text().replace(/[\n\t]/g,"").trim(),t["field_name_"+size]=n,n=$(this).prop("checked")?"true":"false",t["selected_option_"+size]=n,size++});for(var c=size;c<=4;c++)t["field_name_"+c]=void 0,t["selected_option_"+c]=void 0}return 0<a.length&&(l=(a=a.eq(0)).attr("data-component"),0<(o=a.find(".becobar-card")).length&&0<(i=o.parents("[data-component]")).length&&i.eq(0).attr("data-component")===l&&(t.loyalty_bar=Repsol.Analytics.getFreeSpaceText(o.text())),0<(i=a.find(".price-max")).length&&0<(o=i.parents("[data-component]")).length&&o.eq(0).attr("data-component")===l&&(t.price=i.text().trim()),0<(o=a.find(".price-min")).length&&0<(i=o.parents("[data-component]")).length&&i.eq(0).attr("data-component")===l&&(t.old_price=o.text().trim()),"solidarityInitiative"===a.attr("data-analytics"))&&(t.service=Repsol.Analytics.ES.getService(e)),t},isIntranet:function(e,t){return 0<e.parents(".rp-intranet-page").length&&(t.link_is_tag=e.hasClass("rp-tag-new")||"False",t.user_simulated=sessionStorage.getItem("USER_PROFILE_BACKUP")?"true":"false",e.hasClass("rp-tag-new")?t.content_name=e.parents(".rp-card-component").find(".title").text().trim():e.closest("[class*='-component']").find(".content-name").length&&(t.content_name=e.closest("[class*='-component']").find(".content-name").text().trim())),t},logout:function(){isLubricant||Repsol.Analytics.setInfoClick({event:"register_actions",component_name:"header",register_action:"logout",user_is_logged:!1,user_id:null,user_services:null,user_registration_date:null,user_bulletins:null})},getMethodLogin:function(e){var t=null;return t=null!=e&&null!=e.socialProviders&&0<(e=(e=e.socialProviders).split(",")).length?e[0]:t},getFreeSpaceText:function(e){for(var t=e.split(/[\s\t\n]/g),n="",o=0;o<t.length;o++)""!=t[o]&&(n+=t[o]+" ");return n},getInfoUser:function(){var e,t=document.cookie.match("(^|;) ?USER_PROFILE=([^;]*)(;|$)");return null!=t&&null!=t[2]?(t=t[2],t=decodeURIComponent(t),null==(t=JSON.parse(t))||null==t.emailaddress&&null==t.email||(e=-1!=(t.email||t.emailaddress).indexOf("servexternos."),t.type=e?"externo":"interno"),t):{}},getTagPage:function(e,t){return null!=e&&""!=e?(e=(e=e.substr(1,e.length-2)).split(", "),"1"==t?e[0]:"2"==t&&null!=e[1]?(e=e.slice(1)).join(" , "):null):null},getSegmentation:function(e){return null!=e&&""!=e?((e=(e=e.substr(1,e.length-2)).split(", ")).sort(),e.join(",")):null},replaceCountrySegmentation:function(e){if(!e||"undefined"==typeof countries_mapping)return e;var t=e.split(","),n=[];for(let e=0;e<t.length;e++){var o=t[e].trim();countries_mapping[o]?n.push(countries_mapping[o]):n.push(o)}return n.sort(),n.join("|")},getUserID:function(){var e="",t=document.cookie.match("(^|;) ?USER_PROFILE=([^;]*)(;|$)");return e=null!=t&&null!=t[2]&&(t=t[2],t=decodeURIComponent(t),null!=(t=JSON.parse(t))&&null!=t.repsolId&&(e=t.repsolId),null!=t)&&null!=t.rId?t.rId:e},getIsActiveYammer:function(){var e=!1,t=Repsol.Analytics.getInfoUser();return e=null!=t&&null!=t.yammerActive?t.yammerActive:e},clickClientArea:function(e){e={event:"menu_click",link_domain:Repsol.Analytics.getDomineLink(e),link_text:Repsol.Analytics.getTextLink(e),link_url:e.attr("href")||"",link_type:Repsol.Analytics.getTypeLink(e),page_language:Repsol.Analytics.getLanguage(),component_name:"header",menu_name:"header"};null!=sessionStorage.getItem("user")&&(e={...e,user_id:Repsol.Analytics.getIdUser()}),Repsol.Analytics.setInfoClick(e)},clickLogout:function(e){Repsol.Analytics.setInfoClick({event:"account_actions",component_name:"dropdown-perfil",funnel_action:"logout_ok",funnel_step:"1",funnel_type:lubricantsUserType,method:"site",bulletin:!1,form_error_fields:void 0,account_action:"logout",profile_change:void 0,service:"lubricantes",user_id:void 0})},clickForgotPassword:function(e){Repsol.Analytics.setInfoClick({event:"interaction",link_text:"Olvide mi contraseña",component_name:"card de login",element_type:"text",user_id:void 0})},clickLogin:function(e){var t={event:"account_login",component_name:"card de login",funnel_action:"login_ok",funnel_step:"1",funnel_type:void 0,method:"site",bulletin:!1,form_error_fields:void 0,account_action:"login",profile_change:void 0,service:"lubricantes"};Repsol.Analytics.resetErrorsLoginAndRegister(".gigya-login-form"),setTimeout(async()=>{!1===Repsol.Analytics.ErrorsAfterLoginAndRegisterClick(".gigya-login-form .gigya-error-msg","card de login")&&Repsol.Analytics.setInfoClick(t)},3e3)},resetErrorsLoginAndRegister:function(e){document.querySelectorAll(e+" .gigya-error-msg").forEach(e=>{e.textContent=""})},ErrorsAfterLoginAndRegisterClick:function(e,t){var n=document.querySelectorAll(e);let o=!1;for(i=0;i<n.length;i++){var a=n[i];a.textContent&&(o=!0,a={event:"account_actions",component_name:t,funnel_action:a.textContent,funnel_step:"1",funnel_type:void 0,method:"site",bulletin:!1,form_error_fields:a.dataset.boundTo,account_action:"error",profile_change:void 0,service:"lubricantes"},Repsol.Analytics.setInfoClick(a))}return o},clickHasProblem:function(e){e={event:"link_click",link_domain:Repsol.Analytics.getDomineLink(e),link_text:Repsol.Analytics.getTextLink(e),link_url:e.attr("href"),outbound:!1,link_type:"internal",component_name:"card de login",link_is_cta:!1,link_is_tag:!1,content_name:void 0,user_id:void 0};Repsol.Analytics.setInfoClick(e)},clickSocialLogin:function(e){e={event:"account_login",component_name:"card de login",funnel_action:"login_ok",funnel_step:"1",funnel_type:"",method:""+Repsol.Analytics.getTextLink(e).toLowerCase(),bulletin:!1,form_error_fields:void 0,account_action:"login",profile_change:void 0,service:"lubricantes"};Repsol.Analytics.setInfoClick(e)},clickNotHaveAccount:function(e){e={event:"interaction",link_text:Repsol.Analytics.getTextLink(e),component_name:"card de login",element_type:"text",user_id:void 0};Repsol.Analytics.setInfoClick(e)},clickRegister:function(e){var t={event:"account_register",component_name:"card de registro",funnel_action:"register click",funnel_step:"1",funnel_type:$("#userType select").val(),method:lubricantsMethodRegister,bulletin:!1,form_error_fields:void 0,account_action:"register",profile_change:void 0,service:"lubricantes",user_id:void 0};Repsol.Analytics.resetErrorsLoginAndRegister(".gigya-register-form"),setTimeout(async()=>{!1===Repsol.Analytics.ErrorsAfterLoginAndRegisterClick(".gigya-register-form .gigya-error-msg","card de registro")&&Repsol.Analytics.setInfoClick(t)},3e3)},clickValidationReg:function(e){var t={event:"account_actions",component_name:"gigya-email-code-verification-screen",funnel_action:"validation register",funnel_step:"1",funnel_type:void 0,method:lubricantsMethodRegister,bulletin:!1,form_error_fields:void 0,account_action:"verification",profile_change:void 0,service:"lubricantes"};Repsol.Analytics.setInfoClick(t)},clickSocialRegister:function(e){lubricantsMethodRegister=""+Repsol.Analytics.getTextLink(e);e={event:"interaction",component_name:"card de registro",link_text:""+Repsol.Analytics.getTextLink(e),element_type:"icon",user_id:void 0};Repsol.Analytics.setInfoClick(e)},clickConditionsAndPolicies:function(e){e={event:"link_click",link_domain:Repsol.Analytics.getDomineLink(e),link_text:Repsol.Analytics.getTextLink(e),link_url:e.attr("href"),outbound:!1,link_type:"internal",component_name:"card de registro",link_is_cta:!1,link_is_tag:!1,content_name:void 0,user_id:void 0};Repsol.Analytics.setInfoClick(e)},clickHaveAccountLink:function(e){e={event:"interaction",link_text:Repsol.Analytics.getTextLink(e),component_name:"card de registro",element_type:"text",user_id:void 0};Repsol.Analytics.setInfoClick(e)},clickCardChallenge:function(t){window.gigya&&gigya.accounts.getAccountInfo({include:"profile,data,preferences",callback:e=>{0===e.errorCode&&(e={event:"link_click",link_domain:Repsol.Analytics.getDomineLink(t),link_text:Repsol.Analytics.getTextLink(t),link_url:t.attr("href")||"",outbound:!1,link_type:Repsol.Analytics.getTypeLink(t),component_name:"card reto",link_is_cta:!1,link_is_tag:!1,content_name:"Conoce MyQR",user_id:e.UID},window.dataLayer.push(e),Repsol.Analytics.sendAdobeDataLayer(e))}})},clickCardChallenge:function(e){e={event:"link_click",link_domain:Repsol.Analytics.getDomineLink(e),link_text:Repsol.Analytics.getTextLink(e),link_url:e.attr("href")||"",outbound:!0,link_type:Repsol.Analytics.getTypeLink(e),component_name:"card reto",link_is_cta:e.attr("data-cta")||"False",link_is_tag:!1,content_name:e.parents(".card-challenge").find("h2").text(),user_id:Repsol.Analytics.getIdUser()};Repsol.Analytics.setInfoClick(e)},getCardGridButton:function(e){var t={event:"link_click",link_domain:Repsol.Analytics.getDomineLink(e),link_text:Repsol.Analytics.getTextLink(e),link_url:e.attr("href")||"",outbound:!0,link_type:Repsol.Analytics.getTypeLink(e),component_name:"card grid",link_is_cta:e.attr("data-cta")||"False",link_is_tag:!1,content_name:e.parents(".card-es-basic").find("h3").text()};null!=sessionStorage.getItem("user")&&(t={...t,user_id:Repsol.Analytics.getIdUser(e)}),Repsol.Analytics.setInfoClick(t)},getCardCarouselButton:function(e){var t={event:"link_click",link_domain:Repsol.Analytics.getDomineLink(e),link_text:"Más información",link_url:e.attr("href")||"",outbound:!0,link_type:Repsol.Analytics.getTypeLink(e),component_name:"card carousel",link_is_cta:e.attr("data-cta")||"False",link_is_tag:!1,content_name:e.parents(".card-gas-cylinder").find(".card-title p").text()};null!=sessionStorage.getItem("user")&&(t={...t,user_id:Repsol.Analytics.getIdUser(e)}),Repsol.Analytics.setInfoClick(t)},clickAutomaticGallery:function(e){var t={event:"interaction",link_text:Repsol.Analytics.getTextLink(e),component_name:"gallery",element_type:"prev"};"next-bottom"==e[0].parentElement.classList[4]&&(t={event:"interaction",link_text:Repsol.Analytics.getTextLink(e),component_name:"gallery",element_type:"next"}),Repsol.Analytics.setInfoClick(t)},clickCardLubricantesButton:function(e){e={event:"link_click",link_domain:Repsol.Analytics.getDomineLink(e),link_text:Repsol.Analytics.getTextLink(e),link_url:e.attr("href")||"",outbound:!0,link_type:Repsol.Analytics.getTypeLink(e),component_name:"card lubricantes",link_is_cta:e.attr("data-cta")||"False",link_is_tag:!1,content_name:e.parents(".card-product-lubricants").find(".rp-title p").text(),user_id:Repsol.Analytics.getIdUser()};Repsol.Analytics.setInfoClick(e)},clickNavBar:function(e){e={event:"menu_click",link_domain:Repsol.Analytics.getDomineLink(e),link_text:Repsol.Analytics.getTextLink(e),link_url:e.attr("href")||"",page_language:Repsol.Analytics.getLanguage(),component_name:e.parents().hasClass("header-top")?"header":"main",menu_selected_language:location.href.indexOf("es")<0?"en":"es"};null!=sessionStorage.getItem("user")&&(e={...e,user_id:JSON.parse(sessionStorage.getItem("user")).user_id}),Repsol.Analytics.setInfoClick(e)},clickCheckboxAcceptConditionsPolicies:function(e){e={event:"interaction",link_text:e.parents(".row-checkbox").find("label").text().trim(),element_type:"checkbox",component_name:e.parents("section.enrolled-finder").data("component-name"),user_id:Repsol.Analytics.getIdUser()};Repsol.Analytics.setInfoClick(e)},clickConditionsPoliciesLinks:function(e){e={event:"link_click",link_domain:Repsol.Analytics.getDomineLink(e),link_text:e.text().trim(),link_url:e.attr("href")||"",link_type:"navigation",link_is_cta:"false",outbound:"false",component_name:e.parents("section.enrolled-finder").data("component-name"),user_id:Repsol.Analytics.getIdUser()};Repsol.Analytics.setInfoClick(e)},clickButtonSearchForm:function(e=0){var t={event:"interaction",link_text:$(".rp-lubricantes-page .enrolled-finder .search-license-form button[type='submit']").text().trim(),component_name:$("section.enrolled-finder").data("component-name"),element_type:"button",user_id:Repsol.Analytics.getIdUser()};Repsol.Analytics.setInfoClick(t)},successfulSearch:function(e,t){e={event:"search",search_term:e,search_results:t,link_type:"navigation",link_is_cta:"false",outbound:"false",component_name:$("section.enrolled-finder").data("component-name"),user_id:Repsol.Analytics.getIdUser()};Repsol.Analytics.setInfoClick(e)},clickButtonResetSearch:function(e){var t={event:"search",link_text:"buscador",link_type:"navigation",link_is_cta:"false",outbound:"false",component_name:$("section.enrolled-finder").data("component-name"),user_id:Repsol.Analytics.getIdUser()};Repsol.Analytics.setInfoClick(t)},clickItemResultSearch:function(e){var t={event:"interaction",link_text:e.parents(".item-result").find(".content .block-info .item-name").text().trim(),component_name:e.parents("section.enrolled-finder").data("component-name"),element_type:"radiobutton",user_id:Repsol.Analytics.getIdUser()};e.hasClass("item-result")&&(t.link_text=e.find(".content .block-info .item-name").text().trim()),Repsol.Analytics.setInfoClick(t)},clickButtonResultSearch:function(e){e={event:"interaction",link_text:e.text().trim(),component_name:e.parents("section.enrolled-finder").data("component-name"),element_type:"button",user_id:Repsol.Analytics.getIdUser()};Repsol.Analytics.setInfoClick(e)},clickButtonRadioFilter:function(e){var t={event:"interaction",link_text:e.parents(".filters-item-JS").find(".label-name").text().trim(),component_name:"accordion",element_type:"filter",user_id:Repsol.Analytics.getIdUser()};e.prop("checked")&&!enrolledFinder.filtersApplied.length&&Repsol.Analytics.setInfoClick(t)},clickButtonTechnicalSheet:function(e){e={event:"file_download",file_name:Repsol.Analytics.getFilename(e.attr("href"))||"",file_extension:Repsol.Analytics.getFileExtension(e.attr("href"))||"",link_domain:Repsol.Analytics.getDomineLink(e),link_text:Repsol.Analytics.getTextLink(e),link_url:e.attr("href")||"",component_name:e.parents("section.enrolled-finder").data("component-name")};Repsol.Analytics.setInfoClick(e)},clickButtonNewSearch:function(e){e={event:"link_click",link_text:"Realizar nueva busqueda",component_name:e.parents("section.enrolled-finder").data("component-name"),element_type:"button",user_id:Repsol.Analytics.getIdUser()};Repsol.Analytics.setInfoClick(e)},clickLastItemSearch:function(e){e={event:"link_click",link_domain:Repsol.Analytics.getDomineLink(e),link_text:e.text().trim(),link_url:e.attr("href")||"",outbound:!1,link_type:"navigation",link_is_cta:!1,component_name:e.parents("section.enrolled-finder").data("component-name"),user_id:Repsol.Analytics.getIdUser()};Repsol.Analytics.setInfoClick(e)},isEcommercePortal:function(){var e=$("meta[name='portal']");return!!(e.length&&void 0!==e.attr("content")&&-1<e.attr("content").indexOf("ecommerce"))},sendAdobeDataLayer:e=>{Repsol.Analytics.isEcommercePortal()&&(window.adobeDataLayer.push(e),Repsol.Analytics.sendAnayticsIframe(e))},sendAnayticsIframe:e=>{var t,n;window.top!==window.self?n=window.parent:null!=(t=window.frameElement)&&null!=t.contentWindow&&(n=t.contentWindow),null!=n&&n.postMessage({type:"analytics",datalayer:e},"*")},clickContactFormCheckbox:function(e){var t={event:"interaction",link_text:e.parents(".conditions-policies").find(".checkbox + label").text(),element_type:"checkbox",component_name:e.parents(".contact-form-component").data("name-component"),user_id:Repsol.Analytics.getIdUser()};e.prop("checked")&&Repsol.Analytics.setInfoClick(t)},clickContactFormReference:function(e){e={event:"link_click",link_domain:Repsol.Analytics.getDomineLink(e),link_text:e.text(),link_url:e.attr("href")||"",link_type:"navigation",link_is_cta:!1,outbound:!1,component_name:e.parents(".contact-form-component").data("name-component"),user_id:Repsol.Analytics.getIdUser()};Repsol.Analytics.setInfoClick(e)},clickContactFormMessageClose:function(e){e={event:"interaction",link_text:e.text(),component_name:e.parents(".contact-form-component").data("name-component"),element_type:"button",user_id:Repsol.Analytics.getIdUser()};Repsol.Analytics.setInfoClick(e)},contactFormMessageSentSuccessfully:function(e,t){e={event:"forms",forms_digitalcategory:"form",x_forms_id:e,event_detail:t,component_name:$(".contact-form-component").data("name-component"),user_id:Repsol.Analytics.getIdUser()};Repsol.Analytics.setInfoClick(e)},contactFormErrorMessageSent:function(e){e={event:"error",error_type:"forms",error_description:e,error_digitalcategory:"form",component_name:$(".contact-form-component").data("name-component"),user_id:Repsol.Analytics.getIdUser()};Repsol.Analytics.setInfoClick(e)},isAriaPage:function(){var e=$("meta[name='portal']").attr("content");return!!(e&&0<e.length&&null!=e&&e.toLowerCase().includes("aria"))},clickFooterLink:function(e){this.isAriaPage&&(e={event:"menu_click",link_domain:Repsol.Analytics.getDomineLink(e),link_url:e.attr("href")||"",link_text:Repsol.Analytics.getTextLink(e)||"Home",link_type:Repsol.Analytics.getTypeLink(e),component_name:"Menu",menu_name:"Footer",menu_main_name:Repsol.Analytics.getMenuName(e,"data-main-menu-name"),menu_secondary_name:Repsol.Analytics.getMenuName(e,"data-secondary-menu-name"),menu_tertiary_name:Repsol.Analytics.getMenuName(e,"data-tertiary-menu-name"),component_catalogue:Repsol.Analytics.getComponentCatalog(e)},Repsol.Analytics.setInfoClick(e))},getMenuName:(e,t)=>"data-tertiary-menu-name"==t?0<e.closest(`[${t}]`).length?Repsol.Analytics.getTextLink(e):void 0:0<e.closest(`[${t}]`).length?e.closest(`[${t}]`).attr(""+t):void 0,getPositionY:function(e){e=e[0].getBoundingClientRect().top+scrollY;return Math.round(100*e/document.body.scrollHeight)+"%"},getPositionX:function(e){e=e[0].getBoundingClientRect().left;return Math.round(100*e/window.outerWidth)+"%"},getComponentDesc:function(e){e=e.parents("[data-desc], [data-description]");if(0<e.length)return(e.eq(0).attr("data-desc")||e.eq(0).attr("data-description")||"").toLowerCase()},getComponentCatalog:function(e){e=e.closest("[data-component-catalog]");return 0<e.length&&0<e.closest("[data-component-catalog]").length},isInsideIframe:function(){return window.top!==window.self},clickDownloadApps:function(e){var t=(e.hasClass("button-apple")?"IOS":"Android")+" "+e.find("img").first().attr("alt"),t={event:"link_click",link_domain:Repsol.Analytics.getDomineLink(e),link_url:e.attr("href")||"",link_text:t,link_type:Repsol.Analytics.getTypeLink(e),component_name:Repsol.Analytics.getComponentLink(e),link_is_cta:e.attr("data-cta")||"False"};Repsol.Analytics.setInfoClick(t)}},$(document).ready(function(){Repsol.Analytics.events()}),[]),initSession=function(){sessionStorage.length||localStorage.setItem("getSessionStorage",Date.now()),window.addEventListener("storage",function(e){if("getSessionStorage"==e.key){var t,n=sessionStorage;for(t in n)t.includes("rpVar_")&&(t,n[t])}else if("sessionStorage"==e.key){var o=JSON.parse(e.newValue);for(key in o)key in sessionStorage||sessionStorage.setItem(key,o[key])}})};function getAccountInfoResponseDL(e){0===e.errorCode?Repsol.Analytics.ES.showAccount(e):console.log("AccountInfo response error")}$(".editor-panel.editor-panel-active").length||initSession();
var startTime,endTime,Repsol=Repsol||{},lubricantsMethodRegister="site",lubricantsUserType=sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).user_type:null,pageLanguage=$("meta[http-equiv='Content-Language']").attr("content"),clickEnrolledResult=!1,scrolling=!1;Repsol.AnalyticsRomProd={typeNavigation:"navigation",typeInternal:"internal",typeExternal:"external",typeSocial:"social",Site:{isCommerceSite:!1,isComplejosSite:!1,isPaisesSite:!1,isCorporateSite:!1,isPortugalSite:!1,isEessSite:!1,isSolRedPage:!1,isAriaPage:!1,isDpfPage:!1,isLubricants:!1,isIntranetSite:!1,isGuiaSite:!1,isMarcaBlancaSite:!1},events:function(){$(document).on("click","header .logged-in .logout",function(){isLubricant||Repsol.AnalyticsRomProd.AccountActionsRomProd($(this),{})}),$(document).on("click",".rp-ecommerce-page .menu-mobile .head-1 a, .rp-ecommerce-page .menu-mobile .level-2 .head-2 a, .rp-ecommerce-page .menu-mobile .level-3 .head-3 a",function(e){Repsol.AnalyticsRomProd.menuClickRomProd($(this),{})}),$(document).on("click",".feed-component a",function(){Repsol.AnalyticsRomProd.clickInteractionRomProd($(this),{})}),$(document).on("click",".search-coveo-component .CoveoSearchButton",function(){var e=$(this).parents(".search-coveo-component").find("input").val();$(".rp-lubricantes-page").length<1&&(e={search_term:e,search_engine_name:"header-search"},Repsol.AnalyticsRomProd.searchRomProd($(this),e))}),$(document).on("keypress",".search-coveo-component input",function(e){var t=$(this).val();13==e.which&&0<t.length&&(e={search_term:t,search_engine_name:"header-search"},Repsol.AnalyticsRomProd.searchRomProd($(this),e))}),$(document).on("click",".rp-link-click:not([href^='tel']):not([href^='mailto']):not(.download-dam):not('.download-app'):not(.download-click):not(.rp-social-link):not(.rp-footer-link):not(.rp-link-compliance):not(.rp-btn-highlited-download):not(.modal-klin__wayletbtn-already .rp-btn)",function(e){$(this).parent(".rp-btn-callmeback").length||$(this).parent(".cart-order-btn").length||$(this).parent(".link").length||$(this).parent(".distributive-es-link ").length||$(this).parents(".recommender-solidarity-initiative-component").length||$(this).parents('.ecom-logos-component[data-analytics="solidarityInitiative"]').length||$(this).parents(".js-send-landing-btn").length||$(this).parents(".cmb-header-analytics").length||$(this).parents(".card-ecommerce").length||$(this).parents(".register-component").length||$(this).parents(".minicart-footer").length||$(this).parents(".register-aux-msg-modal").length||$(this).parents(".sticky-bar").length||$(this).parent(".js-call-me-back-modal").length||$(this).parents(".header-megamenu").length||$(this).parent(".js-proposal").length||$(this).parents(".form-message").length||$(this).parents(".product-detail-sold-out-waiting-list").length||$(this).parents("#soldOutWaitingListModal").length||$(this).parents(".popup-solar360-").length||$(this).parents(".return-email-downloads .download-page").length||$(this).parents(".lead-roadcast-component").length||$(this).parents("#chargerCardsDitributiveModal").length||$(this).parents(".detail-eess-component").length||$(this).parents(".buttonContinueBuy").length||$(this).parents(".buttonDisponiveis").length||Repsol.AnalyticsRomProd.linkClickRomProd($(this),{})}),$(document).on("click",".sticky-bar .download-app-buttons a",function(){Repsol.AnalyticsRomProd.linkClickRomProd($(this),{})}),$(document).on("click",".slick-arrow:not(.recommended-cylinder-component .slick-arrow), .rp-click-interactive, .cmp-tabs__tab, .cmp-tabs__tablist__container .tab-next,.cmp-tabs__tablist__container .tab-prev,.linksbar-ecommerce-component .tab-prev, .linksbar-ecommerce-component .tab-next,.accordion-component .cmp-accordion__button, .accordion-icon-component .title-item",function(e){$(e.target).closest(".register-login-forms-container").length||$(e.target).closest(".product-detail-component").length||$(e.target).closest(".related-products-component").length||$(e.target).closest(".cmp-tabs").hasClass("tabs-manager-component")||$(e.target).closest(".store-access-component").length||$(e.target).closest(".distributive-eess-component").length||Repsol.AnalyticsRomProd.clickInteractionRomProd($(this),{})}),$(document).on("click","a[href^='tel']",function(e){($(this).hasClass("rp-btn")||0==$(this).parents(".solmat-header-component").find(".numberPhoneHeader").length)&&Repsol.AnalyticsRomProd.clickInteractionRomProd($(this),{})}),$(document).on("click","a[href^='mailto']",function(e){!$(this).hasClass("rp-btn")&&$(this).hasClass("button-share-social")||Repsol.AnalyticsRomProd.clickInteractionRomProd($(this),{})}),$(document).on("click","a.download-click, a.download-dam",function(e){Repsol.AnalyticsRomProd.fileDownloadRomProd($(this))}),$(document).on("click","a.download-app",function(e){Repsol.AnalyticsRomProd.linkClickRomProd($(this),{})}),$(document).on("click",".head-item.head-1",function(e){var t=$(this);0!==$(e.target).closest(".head-1-link-com-mobile, .head-1-link-com").length&&Repsol.AnalyticsRomProd.menuClickRomProd(t,{})}),$(document).on("click",".head-2-link-com",function(e){var t=$(this);Repsol.AnalyticsRomProd.menuClickRomProd(t,{})}),$(document).on("click",".head-item.head-2",function(e){var t=$(this);0===$(e.target).closest(".head-2-link-com").length&&"true"===t.attr("aria-expanded")&&Repsol.AnalyticsRomProd.menuClickRomProd(t,{})}),$(document).on("click",".head-3-link-com, .head-3-link-com-mobile",function(e){var t=$(this);Repsol.AnalyticsRomProd.menuClickRomProd(t.closest(".head-3-link-com"),{})}),$(document).on("click",".subtitle-megadrop-2 a, .subtitle-megadrop-2__movil a, .subtitle-megadrop-3 a, .subtitle-megadrop-3__movil a",function(e){var t=$(this);Repsol.AnalyticsRomProd.menuClickRomProd(t,{})}),$(document).on("click",".rp-ecommerce-page .tabs-ecommerce .rp-link.tab-link, .rp-ecommerce-page .rp-link.tab-link",function(e){Repsol.AnalyticsRomProd.fileDownloadRomProd($(this))}),document.addEventListener("profileAnalitics",function(e){null!=e.detail&&null!=e.detail&&Repsol.AnalyticsRomProd.AccountActionsRomProd($(this),{})},!1),$(document).on("click",".rp-corporate-page .card-ecommerce .block-content .rp-link-click",function(){Repsol.AnalyticsRomProd.linkClickRomProd($(this),{})}),$(document).on("click",".rp-lubricantes-page .header a:not(.logout)",function(e){Repsol.AnalyticsRomProd.menuClickRomProd($(this),{})}),$(document).on("click",".rp-lubricantes-page .header .rp-link-login",function(){Repsol.AnalyticsRomProd.viewElementRomProd($(this),{component_description:"modal",component_name:"registro y login",content_name:"Bienvenido al Portal Lubricantes Repsol"})}),$(document).on("click",".rp-lubricantes-page .card-ecommerce .block-content .rp-link-click",function(){Repsol.AnalyticsRomProd.linkClickRomProd($(this),{})}),$(document).on("click",".rp-lubricantes-page .header .logged-in .logout",function(e){var t={funnel_action:"logout_ok",funnel_step:"01",funnel_type:"Distribuidor",method:"site",component_name:"Header Lubricantes",account_action:"logout",service:"lubricantes",customer_type:Repsol.AnalyticsRomProd.Getters.getLoggedUserType()};Repsol.AnalyticsRomProd.AccountActionsRomProd($(this),t),e.stopPropagation()}),$(document).on("click",".gigya-login-form .gigya-forgotPassword",function(){Repsol.AnalyticsRomProd.clickInteractionRomProd($(this),{})}),$(document).on("submit",".gigya-login-form",function(){null!=document.querySelector(".rp-lubricantes-page")&&Repsol.AnalyticsRomProd.AccountLoginRomProd($(this),{})}),$(document).on("click",".gigya-login-form .gigya-composite-control a",function(){Repsol.AnalyticsRomProd.AccountErrorRomProd($(this),{})}),$(document).on("click",".gigya-login-form .gigyaSocialLoginLubricantes #Twiter_btn",function(){null!=document.querySelector(".rp-lubricantes-page")&&Repsol.AnalyticsRomProd.AccountLoginRomProd($(this),{})}),$(document).on("click",".gigya-login-form .suggestion-account-link",function(){Repsol.AnalyticsRomProd.clickInteractionRomProd($(this),{}),lubricantsMethodRegister="site"}),$(document).on("submit",".gigya-register-form",function(){Repsol.AnalyticsRomProd.AccountRegisterRomProd($(this),{})}),$(document).on("submit",".gigya-screen-content .gigya-otp-update-form",function(){isLubricant&&Repsol.AnalyticsRomProd.AccountActionsRomProd($(this),{})}),$(document).on("click",".gigya-register-form .gigyaSocialRegisterLubricantes .tabbing-button",function(){alert("click social"),Repsol.AnalyticsRomProd.AccountRegisterRomProd($(this),{})}),$(document).on("click",".gigya-register-form .gigya-composite-control.gigya-composite-control-label a",function(){Repsol.AnalyticsRomProd.linkClickRomProd($(this),{})}),$(document).on("click",".gigya-register-form .suggestion-account-link",function(){Repsol.AnalyticsRomProd.clickInteractionRomProd($(this),{})}),$(document).on("click",".rp-lubricantes-page .card-challenge .info-container .button-container",function(){Repsol.AnalyticsRomProd.linkClickRomProd($(this),{})}),$(document).on("click",".rp-lubricantes-page .card-grid--lubricantes .card-es-basic .rp-btn",function(){Repsol.AnalyticsRomProd.linkClickRomProd($(this),{})}),$(document).on("click",".rp-lubricantes-page .carousel-component .card-gas-cylinder .rp-btn",function(){Repsol.AnalyticsRomProd.linkClickRomProd($(this),{})}),$(document).on("click",".rp-lubricantes-page .gallery-automatic .carousel-images-component .rp-btn",function(){Repsol.AnalyticsRomProd.linkClickRomProd($(this),{})}),$(document).on("keypress",".rp-lubricantes-page .products-finder .search-input-container input",function(e){var t=$(this).val();13==e.which&&0<t.length&&(e={search_term:t,search_engine_name:"products-search"},Repsol.AnalyticsRomProd.searchRomProd($(this),e))}),$(document).on("click",".rp-lubricantes-page .card-challenge .button-container",function(e){Repsol.AnalyticsRomProd.linkClickRomProd($(this),{})}),$(document).on("click",".rp-lubricantes-page .card-product-lubricants .card-link .rp-btn",function(){Repsol.AnalyticsRomProd.linkClickRomProd($(this),{})}),$(document).on("click",".rp-lubricantes-page .enrolled-finder .search-license-form input#search-accept-conditions-policies",function(){Repsol.AnalyticsRomProd.clickInteractionRomProd($(this),{})}),$(document).on("click",".rp-lubricantes-page .enrolled-finder .search-license-form .row-checkbox > label a",function(){Repsol.AnalyticsRomProd.linkClickRomProd($(this),{})}),$(document).on("click",".rp-lubricantes-page .enrolled-finder .search.reset-enrolled-form",function(){var e={search_term:valueSearch,search_engine_name:"products-search"};Repsol.AnalyticsRomProd.searchRomProd($(this),e)}),$(document).on("click",".rp-lubricantes-page .enrolled-finder .search-results-JS .item-result",function(){clickEnrolledResult[0]!=$(this)[0]?(clickEnrolledResult=$(this),Repsol.AnalyticsRomProd.clickInteractionRomProd($(this),{})):clickEnrolledResult=!1}),$(document).on("click",".rp-lubricantes-page .enrolled-finder .search-results-JS .btn-select-item-result",function(){Repsol.AnalyticsRomProd.clickInteractionRomProd($(this),{})}),$(document).on("click",".rp-lubricantes-page .enrolled-finder .filter-enrolled-finder-container .product-facets-container-JS .filters-item-JS input[type='radio']",function(){Repsol.AnalyticsRomProd.clickInteractionRomProd($(this),{})}),$(document).on("click",".rp-lubricantes-page .enrolled-finder .filter-enrolled-finder-container .card-ecommerce .link-container .download-click",function(){Repsol.AnalyticsRomProd.fileDownloadRomProd($(this))}),$(document).on("click",".rp-lubricantes-page .enrolled-finder .message-empty-product-list-JS .rp-btn.cmp-noresults-button",function(){Repsol.AnalyticsRomProd.linkClickRomProd($(this),{})}),$(document).on("click",".rp-lubricantes-page .enrolled-finder .enrolled-finder .search-history .history-list p",function(){Repsol.AnalyticsRomProd.linkClickRomProd($(this),{})}),$(document).on("click",".rp-lubricantes-page .contact-form-component .conditions-policies input[type='checkbox']",function(){Repsol.AnalyticsRomProd.clickInteractionRomProd($(this),{})}),$(document).on("click",".rp-lubricantes-page .contact-form-component .conditions-policies .link-reference",function(){Repsol.AnalyticsRomProd.linkClickRomProd($(this),{})}),$(".rp-lubricantes-page .contact-form-component .message-container .btn-close").on("click",function(e){Repsol.AnalyticsRomProd.clickInteractionRomProd($(this),{})}),$(document).on("click",".cmp-breadcrumb li a",function(){Repsol.Analytics.isAriaPage()&&Repsol.AnalyticsRomProd.linkClickRomProd($(this),{})}),$(document).on("click",".footer .footer-nav .footer-logo a",function(){Repsol.Analytics.isAriaPage()&&Repsol.AnalyticsRomProd.menuClickRomProd($(this),{})}),$(document).on("click",".footer-inferior-bar .footer-container .multilink-nav a",function(){Repsol.Analytics.isAriaPage()&&Repsol.AnalyticsRomProd.linkClickRomProd($(this),{})})},Getters:{isAnalyticsRomTestProd:function(){return!!Repsol.AnalyticsRomProd.Getters.getQueryParamValue("analitica-rom-prod")},AccountVerificationTest:function(){var e;Repsol.AnalyticsRomProd.Getters.getQueryParamValue("verification-test")&&(e={method:"test",event_detail:"test",funnel_action:"test verification",funnel_type:"register verification",funnel_step:"1",service:"Repsol"},Repsol.AnalyticsRomProd.AccountVerificationRomProd($(this),e))},getQueryParamValue:function(e){return new URLSearchParams(window.location.search).get(e)},isEcommercePage:function(e){var t=$("meta[name='portal']"),t=!!(t.length&&void 0!==t.attr("content")&&-1<t.attr("content").indexOf("ecommerce")),o=Repsol.AnalyticsRomProd.Getters.getCookie("isLogged");t&&"true"==o&&null!=o&&(Repsol.AnalyticsRomProd.Getters.getAccountInfoDL(),e.user_is_logged=!0)},isLubricantsPage:function(e){var t=$("meta[property='og:url']");!t.length||!(t.attr("content").includes("lubricantes.repsol")||t.attr("content").includes("lubricants.repsol")||t.attr("content").includes("repsol-lubricantes"))||!sessionStorage.getItem("user")||(e.user_is_logged=!0)},isCorporatePage:function(e){var t=$("meta[name='portal']"),t=!!(t.length&&void 0!==t.attr("content")&&-1<t.attr("content").indexOf("corporate")),o=Repsol.AnalyticsRomProd.Getters.getCookie("isLogged");if(!t||"false"!=o&&""!=o&&null!=o?e.user_is_logged=!0:(sessionStorage.removeItem("user"),e.user_is_logged=!1),t){new URLSearchParams(window.location.search).get("sfmc_id");o=JSON.parse(localStorage.getItem("subscriptions"));if(null!==o){var n=o.interests;for(let e=0;e<n.length;e++){var i=n[e];"create"===i.action&&e!==n.length-1?i.interestid:"create"===i.action&&e===n.length-1&&i.interestid}}}},isMarcaBlancaSite:function(){var e=window.location.href;return!(!e.includes("marcablanca")&&!e.includes("todoluzygas"))},getUserInterests:function(){var e=JSON.parse(localStorage.getItem("subscriptions")),t=null;if(null!==e){var o=e.interests,t="";for(let e=0;e<o.length;e++){var n=o[e];"create"===n.action&&e!==o.length-1?t+=n.interestid+" | ":"create"===n.action&&e===o.length-1&&(t+=n.interestid)}return t}},getOptanonConsent:function(){var e=Repsol.AnalyticsRomProd.Getters.getCookie("OptanonConsent");return null!=e&&(e=e.split("&").find(e=>e.startsWith("groups=")))?(e=e.split("=")[1].split(",").filter(e=>!e.endsWith(":0")).join(",").replace(/:1/g,""),decodeURIComponent(e?","+e+",":null)):void 0},getUserIsSubscribed:function(){if($(".rp-guia-container")){if(sessionStorage.getItem("infoUser"))return"true"===sessionStorage.getItem("isSubscribed")}else if(window.sessionStorage.getItem("rpVar_DLaccount"))return!!localStorage.getItem("subscriptions")},getGaClientId:function(){var o={};if(document.cookie.split(";").forEach(function(e){var e=e.split("="),t=e[0].trim(),e=e[1];o[t]=e}),o._ga)return o._ga.substring(6)},showAccountInfo:function(){window.gigya&&gigya.accounts.getAccountInfo({include:"profile,data,preferences",callback:Repsol.AnalyticsRomProd.Getters.getAccountInfoResponseGigya})},getAccountInfoResponseGigya:function(e){null!=e&&0==e.errorCode&&(e={user_id:null!=e.UID?e.UID:void 0,user_services:null!=e.data.Service?e.data.Service:void 0,user_bulletins:null!=e.data.Bulletin?e.data.Bulletin:void 0},window.sessionStorage.setItem("gigyaUserROM",JSON.stringify(e)))},isMotorVerdePage:function(){var e=document.location.href;return!(!e||!e.toLowerCase().includes("motorverde"))},getUserAccesPage:function(){var e=Repsol.AnalyticsRomProd.Getters.isMotorVerdePage();let t="";return t=e?document.getElementById("typeSelector").innerHTML.trim():t},getEstablishmentName:function(){return $(".hero-ficha .hero-soles").attr("data-name")||void 0},getEstablishmentCategory:function(){},getEstablishmentType:function(e){var t;if(Repsol.AnalyticsRomProd.Site.isGuiaSite)return e=Repsol.AnalyticsRomProd.Getters.getEstablishmentRaiting(e),t=$(".hero-ficha .hero-soles").attr("data-solete-category"),"Solete"===e&&"6"!==t?{1:"Cafetería",2:"Bar",3:"Terraza",4:"Vinoteca",5:"Fast Good",7:"Heladería"}[t]:"Restaurant"},getEstablishmentRaiting:function(){return{1:"1 sol",2:"2 soles",3:"3 soles",S:"Solete",R:"Recomendado"}[$(".hero-ficha .hero-soles").attr("data-type-category")]||void 0},getEstablishmentAdress:function(){return $(".hero-ficha .hero-soles").attr("data-adress")||void 0},getContentName:function(e){var t=e.closest("[data-component]");return t.hasClass("documents-component")?e.parent().find(".content-name").text().trim()||void 0:null!=t.attr("data-content-name")?t.attr("data-content-name")||void 0:0<t.find(".content-name").length?t.find(".content-name").text().trim()||void 0:0<e.closest(".content-name").length?e.closest(".content-name").text().trim()||void 0:e.attr("data-content-name")&&e.attr("data-content-name")||void 0},getSiteName:function(){var e=0<$("meta[name='portal']").length&&null!=$("meta[name='portal']").attr("content")?$("meta[name='portal']").attr("content").toLowerCase():void 0;if(null!=e)switch(e){case"ecommerce":Repsol.AnalyticsRomProd.Site.isCommerceSite=!0;break;case"corporate":Repsol.AnalyticsRomProd.Site.isCorporateSite=!0;break;case"portugal":Repsol.AnalyticsRomProd.Site.isPortugalSite=!0;break;case"aria":Repsol.AnalyticsRomProd.Site.isAriaPage=!0;break;case"dpf":Repsol.AnalyticsRomProd.Site.isDpfPage=!0;break;case"energia-cliente-eess":Repsol.AnalyticsRomProd.Site.isEessSite=!0;break;case"paises":Repsol.AnalyticsRomProd.Site.isPaisesSite=!0;break;case"intranet":Repsol.AnalyticsRomProd.Site.isIntranetSite=!0;break;case"lubricantes":Repsol.AnalyticsRomProd.Site.isLubricants=!0;break;case"complejos":Repsol.AnalyticsRomProd.Site.isComplejosSite=!0;break;case"marcablanca":Repsol.AnalyticsRomProd.Site.isMarcaBlancaSite=!0;break;case"guia_repsol":Repsol.AnalyticsRomProd.Site.isGuiaSite=!0}},getPositionY:function(e){e=e[0].getBoundingClientRect().top;return Math.round(e/window.innerHeight*100)+"%"},getPositionX:function(e){e=e[0].getBoundingClientRect().left;return Math.round(e/window.innerWidth*100)+"%"},getComponentDesc:function(e){e=e.parents("[data-desc], [data-description]");if(0<e.length)return(e.eq(0).attr("data-desc")||e.eq(0).attr("data-description")||"").toLowerCase()},getMenuName:(e,t)=>"data-tertiary-menu-name"==t?0<e.closest(`[${t}]`).length?Repsol.AnalyticsRomProd.Getters.getTextLink(e):void 0:0<e.closest(`[${t}]`).length?e.closest(`[${t}]`).attr(""+t):void 0,getComponentCatalog:function(e){e=e.closest("[data-component-catalog]");return 0<e.length&&0<e.closest("[data-component-catalog]").length},getElementDescription:function(e){var t=Repsol.AnalyticsRomProd.Getters.getTypeInteraction(e),o=Repsol.AnalyticsRomProd.Getters.getComponentLink(e);return"drop-down"===t?t+"_"+("true"===$(e).attr("aria-expanded")?"open":"close"):t+"_"+o},getPageSections:function(){var e=window.location.pathname,e=(e=(e=(e=(e=(e=(e=(e=e.replace("/content","")).replace("/repsol-corporate","")).replace("/repsol-intranet","")).replace("/repsol-ecommerce","")).replace("/index.cshtml","")).replace(".html","")).substr(1,e.length)).split("/"),e={languaje:null!=pageLanguage?pageLanguage:e[0]||void 0,section:e[1]||void 0,subsecction1:e[2]||void 0,subsecction2:e[3]||void 0};return null==e.section&&null==e.subsecction1&&null==e.subsecction2&&(e.section="home"),e},getIdUser:function(){var e=null!=document.querySelector(".rp-lubricantes-page")?JSON.parse(sessionStorage.getItem("user"))?.user_id:window.sessionStorage.getItem("id");return e},getInfoUser:function(){var e,t=document.cookie.match("(^|;) ?USER_PROFILE=([^;]*)(;|$)");return null!=t&&null!=t[2]?(t=t[2],t=decodeURIComponent(t),null==(t=JSON.parse(t))||null==t.emailaddress&&null==t.email||null!=(e=t.email||t.emailaddress)&&(e=-1!=e.indexOf("servexternos."),t.type=e?"externo":"interno"),t):{}},getCookie:function(e){for(var t=e+"=",o=decodeURIComponent(document.cookie).split(";"),n=0;n<o.length;n++){for(var i=o[n];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}},getDevice:function(){let e="web";return e=navigator.standalone||window.matchMedia("(display-mode: standalone)").matches?"app":e},getPageContent:function(){var e=$(document).find("html").attr("data-type");if(null!=e){if(-1<e.indexOf("asfalto-news-page")||-1<e.indexOf("chemistry-news-page")||-1<e.indexOf("news-page"))return"noticia";if(-1<e.indexOf("you-need-know-page"))return"debes conocer";if(-1<e.indexOf("cnmv-page"))return"cnmv";if(-1<e.indexOf("event-page"))return"evento";if(-1<e.indexOf("quest-page"))return"participa";if(-1<e.indexOf("reportage-page"))return"reportaje";if(-1<e.indexOf("press-release-page"))return"nota de presa"}return"actualidad"},getPageEnviroment:function(){var e=window.location.hostname;return-1<e.indexOf("stage")?"pre":-1<e.indexOf("dev")?"dev":-1<e.indexOf("qa")?"qa":"pro"},getPageType:function(){switch($("meta[name=template]")[0].content){case"home-page":return"home page";case"subhome-page":return"subhome page";case"distributive-page":return"distributive page";case"asfalto-news-page":return"asfalto news page";case"chemistry-news-page":return"chemistry news page";case"you-need-know-page":return"you need to know page";case"cnmv-page":return"cnmv page";case"news-page":return"news page";case"event-page":return"event page";case"quest-page":return"quest page";case"reportage-page":return"reportage page";case"press-release-page":return"press release page";case"creative-page":return"creative page";case"empty-page":return"empty page";case"newsletter-page ":return"newsletter page ";case"faq-page":return"faq page";case"list-page":return"list page";default:return"final content page"}},getTagPage:function(e,t){if(null!=e&&""!=e)return e=(e=e.substr(1,e.length-2)).split(", "),e="1"==t?e[0]:"2"==t&&null!=e[1]?(e=e.slice(1)).join(" , "):null},getComponentPosition:function(e){var t=e.parents("[data-component-position]");return 0<t.length?(0<t.parents("[data-component-position]").length?t.parents("[data-component-position]"):t).attr("data-component-position").toLowerCase():0<(t=e.closest("[data-component]")).length?"header"===t.attr("data-component")?"header":"footer"===t.attr("data-component")?"footer":void 0!==(e=t.parents("[data-component]").attr("data-component"))?e.toLowerCase():"body":void 0},getComponentLink:function(e){e=e.closest("[data-component]");return 0<e.length?(0<e.closest("[data-component]").length?e.closest("[data-component]"):e).attr("data-component").toLowerCase():null},getComponentNameMarcaBlanca:function(e){return Repsol.AnalyticsRomProd.Getters.isMarcaBlancaSite()&&0<(e=e.closest("[data-track-analytics]")).length?(0<e.closest("[data-track-analytics]").length?e.closest("[data-track-analytics]").attr("data-track-analytics"):e).toLowerCase():void 0},getDomineLink:function(e){var t;if(e.attr("href")||e.find("a[href]").attr("href"))return t=null!=(e=e.attr("href"))&&0<e.indexOf("//")?e.indexOf("//")+2:0,""===(e=0<(t=(e="#"!=e&&null!=e?e.slice(t):"").split("/")).length?t[0]:"")?window.location.hostname:e},getFreeSpaceText:function(e){for(var t=e.split(/[\s\t\n]/g),o="",n=0;n<t.length;n++)""!=t[n]&&(o+=t[n]+" ");return o},getTextLink:function(e){var t="";return 0<e.find(".rp-link").length?t=e.find(".rp-link").text():0<e.find(".rp-title").length?t=e.find(".rp-title").text():0<e.find(".title").length?t=e.find(".title").text():0<e.find(".text").length?t=e.find(".text").text():e.data("title")?t=e.data("title"):e.parent().hasClass("download-app-buttons")?t=(e.hasClass("button-apple")?"IOS":"Android")+" "+e.find("img").first().attr("alt"):""==(t=e.text()||"").trim()&&null!=e.attr("title")&&(t=e.attr("title")),t=Repsol.AnalyticsRomProd.Getters.getFreeSpaceText(String(t)),$.trim(t)},getTypeLink:function(e){var t,o;if(e.attr("href")||e.find("a[href]").attr("href"))return e=(e=Repsol.AnalyticsRomProd.Getters.getDomineLink(e)).replace(/www./g,""),t=(t=window.location.hostname).replace(/www./g,""),o=-1<e.indexOf("repsol"),t==e?Repsol.AnalyticsRomProd.typeNavigation:o?Repsol.AnalyticsRomProd.typeInternal:Repsol.AnalyticsRomProd.typeExternal},getTypeInteraction:function(e){var t,o;return e.hasClass("filter-es")||e.hasClass("switch-element")?"filter":e.hasClass("btn-round")?"show-more":e.hasClass("tab-next")||e.hasClass("slick-next")?"next":e.hasClass("tab-prev")||e.hasClass("slick-prev")?"prev":0<e.parents(".cmp-tabs__tablist").length?"tab":0<e.parents(".accordion-component").length||0<e.parents(".accordion-icon-component").length||0<e.parents(".cmp-accordion-container").length?"drop-down":0<e.parents(".faqs-sidebar-component").length?"faqs":0<e.parents(".slick-dots").length?(t="","bullet-"+(t=0<(o=e.attr("id")).length?o.substring(o.length-2):t)):e.hasClass("rp-btn")||e.hasClass("rp-btn-white")||e.hasClass("rp-link-click")?"button":void 0},getErrorType:function(e){e=e.parents("[data-error-type]");if(0<e.length)return(0<e.parents("[data-error-type]").length?e.parents("[data-error-type]"):e).attr("data-error-type").toLowerCase()},createStorage:function(e,t,o=!0){o=o?"rpVar_":"";"undefined"!=typeof Storage&&window.sessionStorage.setItem(o+e,JSON.stringify(t))},setDataLayerPropsStorage:function(){Repsol.AnalyticsRomProd.Getters.getKeyValuesFromObject(["campaign_id","campaign_name","experience_name"],dataLayer)},getKeyValuesFromObject:function(e,o){e.forEach(e=>{var t;t=e,void 0!==(e=(e=o).find(e=>e.hasOwnProperty(t)))&&(e=e[t],Repsol.AnalyticsRomProd.Getters.createStorage(t,e,!0))})},getData:function(e){null!=(data=window.sessionStorage.getItem(e))&&data.length||(data=window.sessionStorage.getItem("rpVar_"+e));try{return JSON.parse(data)}catch(e){return data}},getFunnelType:function(){let e=void 0;var t,o=0<$(".rate-fare-proposal-ecommerce-component").length,n=0<$(".calculator-component").length;return $("body").hasClass("funnel-page")&&(t=Repsol.utils.getData(repsolDataLayer),e="undefined"!==t.funnel_type?t.funnel_type:t.funnel_step),o&&(e="recomendador de tarifas"),e=n?"calculadora de ahorro":e},getFunnelStep:function(e){return $("meta[name=rp-funnel-step]").prop("content")?$("meta[name=rp-funnel-step]").prop("content"):e.attr("data-funnel-step")?e.attr("data-funnel-step"):0<e.closest("[data-funnel-step]").length?e.closest("[data-funnel-step]").attr("data-funnel-step"):void 0},getFunnelAction:function(e){return $("meta[name=rp-funnel-action]").prop("content")?$("meta[name=rp-funnel-action]").prop("content"):e.attr("data-funnel-action")?e.attr("data-funnel-action"):0<e.closest("[data-funnel-action]").length?e.closest("[data-funnel-action]").attr("data-funnel-action"):void 0},getGDPR4:e=>e.find("input[name='accept-policy']").is(":checked")?"sí":"no",getBusinessMeta:function(){var e=$("meta[name='rp-business']");return e.length&&""!==e.attr("content")?e.attr("content"):void 0},getFileExtension:function(e){return e.split(".").pop()},getFilename:function(e){return e.split("/").pop()},getMethodLogin:function(e){var t=null;return t=null!=e&&null!=e.socialProviders&&0<(e=(e=e.socialProviders).split(",")).length?e[0]:t},getFieldName1:function(e,t){let o=t;return 0<e.find(".first-step").length||0<e.find(".select-radio-button").length&&0<e.find(".container-placeholder").find(".step-placeholder").length&&(o=Repsol.AnalyticsRomProd.Getters.getSelectedRadioButtonTextCA(e)),o="calculo ahorro"==t?void 0:o},getSelectedOpcion1:function(e){let t=void 0;return 0<e.find(".first-step").length?t=e.find(".step-text").text():0<e.find(".select-radio-button").length?t=0<e.find(".container-placeholder").find(".step-placeholder").length?Repsol.AnalyticsRomProd.Getters.getPlaceholderValueCA(e):Repsol.AnalyticsRomProd.Getters.getSelectedRadioButtonTextCA(e):0<e.find(".container-placeholder").find(".step-placeholder").length&&(t=Repsol.AnalyticsRomProd.Getters.getPlaceholderValueCA(e)),t},getSelectedRadioButtonTextCA:function(e){e=e.find('input[name="opcion"]:checked').closest(".step-card-button").find(".step-text").text();return e||void 0},getPlaceholderValueCA:function(e){var t=e.find('input[name="opcion"]:checked');let o;return(o=(0<t.length?t.closest(".step-card-button"):e).find(".step-placeholder").val())||void 0},getEventDetail:function(e){e=e.closest("[data-event-detail]");if(0<e.length)return(0<e.closest("[data-event-detail]").length?e.closest("[data-event-detail]"):e).attr("data-event-detail").toLowerCase()},getUserServices:function(t){return Object.keys(t).filter(function(e){return t[e]}).join(" | ")},getFunnelProduct:function(e){e=e.closest("[data-product-name-text]");if(0<e.length)return(0<e.closest("[data-product-name-text]").length?e.closest("[data-product-name-text]"):e).attr("data-product-name-text").toLowerCase()},setInfoClick:function(e){Repsol.AnalyticsRomProd.Getters.isInsideIframe()||window.dataLayer.push(e),Repsol.AnalyticsRomProd.Getters.sendAdobeDataLayer(e)},isInsideIframe:function(){return window.top!==window.self},isEcommercePortal:function(){var e=$("meta[name='portal']");return!!(e.length&&void 0!==e.attr("content")&&-1<e.attr("content").indexOf("ecommerce"))},sendDataLayer:e=>{window.dataLayer.push(e),Repsol.Analytics.sendAdobeDataLayer(e)},sendAdobeDataLayer:e=>{Repsol.AnalyticsRomProd.Getters.isEcommercePortal()&&(window.adobeDataLayer.push(e),Repsol.AnalyticsRomProd.Getters.sendAnayticsIframe(e))},sendAnayticsIframe:e=>{var t,o;window.top!==window.self?o=window.parent:null!=(t=window.frameElement)&&null!=t.contentWindow&&(o=t.contentWindow),null!=o&&o.postMessage({type:"analytics",datalayer:e},"*")},getMetaBusiness:function(){var t=$("meta[name='rp-business-tag']").attr("content");if(!!(t&&0<t.length&&null!=t)){let e=t.split(";");return 1<e.length?e=e[0]:e}},getFormFieldsNames:function(e,t){if(0<$(e).closest("[class*=form]").length||0<$(e).closest('[data-component*="form"]').length){e=$(e).closest("[data-component]"),e=(hasFieldset=e.find(".cmp-form-options")).find('input[type="checkbox"]');size=1,e.each(function(){fieldName=$(this).closest(".cmp-form-options__field-description").text().replace(/[\n\t]/g,"").trim(),t["field_name_"+size]=fieldName,isChecked=$(this).prop("checked")?"true":"false",t["selected_option_"+size]=isChecked,size++});for(var o=size;o<=4;o++)t["field_name_"+o]=void 0,t["selected_option_"+o]=void 0}},getMenuSite(e){return Repsol.AnalyticsRomProd.Site.isGuiaSite?Repsol.AnalyticsRomProd.Getters.getMenuNameGuia(e):Repsol.AnalyticsRomProd.Site.isIntranetSite?Repsol.AnalyticsRomProd.Getters.getMenuNameNet(e):Repsol.AnalyticsRomProd.Getters.isMarcaBlancaSite()?Repsol.AnalyticsRomProd.Getters.getMenuNameMb(e):Repsol.AnalyticsRomProd.Site.isPortugalSite?Repsol.AnalyticsRomProd.Getters.getMenuNamePt(e):Repsol.AnalyticsRomProd.Getters.getMenuNameCom(e)},getMenuNamePt:function(e){if(0<e.closest(".menu-mobile").length&&0<!e.closest(".menu-desktop").length){var t=e.parent();switch(t.hasClass("head-1")?1:t.hasClass("head-2")?2:t.hasClass("head-3")?3:0){case 1:return{menu_level:"main",menu_main_name:e.text().trim()};case 2:return{menu_level:"secondary",menu_main_name:t.parents(".menu-mobile").find(".head-1.active").text().trim(),menu_secondary_name:e.text().trim()};case 3:var o=t.parents(".menu-mobile"),n=o.find(".head-1.active"),o=o.find(".head-2:not(.collapsed)").children("a");return{menu_level:"tertiary",menu_main_name:n.text().trim(),menu_secondary_name:o.text().trim(),menu_tertiary_name:e.text().trim()};default:return{}}}else{var i;if(0<e.closest(".menu-desktop").length&&0<!e.closest(".menu-mobile").length)return 2!=((i=e.parent()).hasClass("level-1-head")?1:i.hasClass("level-2-link")?2:3)?{}:{menu_level:"secondary",menu_main_name:i.parent().prev(".level-1-head").text().trim(),menu_secondary_name:e.text().trim()}}},getMenuNameMb:function(e){var t=e.parent().parent();switch(t.hasClass("navigation-item")?1:t.hasClass("navigation-item-secondary")?2:3){case 1:return{menu_name:"header",menu_level:"main",menu_main_name:e.text().trim()};case 2:return{menu_name:"header",menu_level:"secondary",menu_main_name:(0!=e.closest(".navigation-item.open").length?e.closest(".navigation-item.open"):e.closest(".navigation-children").parent()).children(".navigation-link").text().trim(),menu_secondary_name:e.text().trim()};case 3:var o=0!=e.closest(".navigation-item-secondary.open").length?e.closest(".navigation-item-secondary.open"):e.closest(".navigation-children").parent();return{menu_name:"header",menu_level:"tertiary",menu_main_name:(0!=e.closest(".navigation-item.open").length?e.closest(".navigation-item.open"):o.closest(".navigation-children").parent()).children(".navigation-link").text().trim(),menu_secondary_name:o.children(".navigation-link").text().trim(),menu_tertiary_name:e.text().trim()};default:return{}}},getMenuNameGuia:function(e){var t=e.parent();switch(t.hasClass("item-1")?1:t.hasClass("item-2")?2:e.hasClass("rp-title-2")?1:0){case 1:return{menu_level:"main",menu_main_name:e.text().trim()};case 2:return{menu_level:"secondary",menu_main_name:t.parent().closest(".list-2").parent().parent().find(".block-1").find(".list-1").find(".active").text().trim(),menu_secondary_name:e.text().trim()};default:return{}}},getMenuNameCom:function(e){var t,o;if(0<e.closest(".subtitle-megadrop-2, .subtitle-megadrop-2__movil,.subtitle-megadrop-3, .subtitle-megadrop-3__movil").length)return o=e.closest(".subtitle-megadrop-3, .subtitle-megadrop-3__movil"),t=e.closest(".menu-xl").find(".head-1.active"),0<o.length?(o=e.closest(".block-container-xl").find(".head-2.toggle-lvl-3"),{menu_main_name:t.text().trim(),menu_secondary_name:o.text().trim(),menu_tertiary_name:e.text().trim(),menu_level:"tertiary",menu_name:"header"}):{menu_main_name:t.text().trim(),menu_secondary_name:e.text().trim(),menu_level:"secondary",menu_name:"header"};var n=e.closest(".head-item");switch(n.hasClass("head-1")?1:n.hasClass("head-2")?2:n.hasClass("head-3")?3:0){case 1:return{menu_name:"header",menu_level:"main",menu_main_name:n.find(".head-1-link-com, .head-1-link-com-mobile").text().trim()};case 2:return{menu_name:"header",menu_level:"secondary",menu_main_name:Repsol.AnalyticsRomProd.Getters.getParentNavLink(n).text().trim(),menu_secondary_name:n.find(".head-2-link-com, .head-2-link-com-mobile").text().trim()};case 3:var i=Repsol.AnalyticsRomProd.Getters.getParentNavLink(n);return{menu_name:"header",menu_level:"tertiary",menu_main_name:Repsol.AnalyticsRomProd.Getters.getParentNavLink(i).text().trim(),menu_secondary_name:i.text().trim(),menu_tertiary_name:n.find(".head-3-link-com, .head-3-link-com-mobile").text().trim()};default:return{}}},getMenuNameNet:function(e){var t=e.parent().parent(),o=t.parent().parent().parent();switch(t.hasClass("navigation-net__list--level1")||t.hasClass("horizontal-navigation__list")?1:t.hasClass("navigation-net__sublist--level2")&&!o.hasClass("navigation-net__container--level3--bg")?2:o.hasClass("navigation-net__container--level3--bg")?3:0){case 1:return{menu_name:t.hasClass("navigation-net__list--level1")?"hamburguer":"header",menu_level:"main",menu_main_name:e.text().trim()};case 2:return{menu_name:"hamburguer",menu_level:"secondary",menu_main_name:t.closest(".navigation-net__container--level2").parent().find(".navigation-net__item__child--button").text().trim(),menu_secondary_name:e.text().trim()};case 3:var n=o.parent().parent();return{menu_name:"hamburguer",menu_level:"tertiary",menu_main_name:n.closest(".navigation-net__item--selected").find(".navigation-net__item__child--button").text().trim(),menu_secondary_name:n.find(".navigation-net__subitem__child--button").text().trim(),menu_tertiary_name:e.text().trim()};default:return{}}},getParentNavLink:function(e){e=e.attr("data-parent-item");return $('[aria-controls="'+e+'"]')},getAccountInfoDL:function(){var e;return"rpVar_DLaccount"in sessionStorage?(e=window.sessionStorage.getItem("rpVar_DLaccount"),JSON.parse(e)):"DLaccount"in sessionStorage?(e=window.sessionStorage.getItem("DLaccount"),JSON.parse(e)):window.gigya?gigya.accounts.getAccountInfo({include:"profile,data,preferences",callback:getAccountInfoResponseDL}):(console.log("DLaccount not found"),"")},checkAndUpdateInterests:function(e,t){var o=window.location.href,t={field_name_1:"intereses",selected_option_1:t.join(" | "),funnel_step:"1",funnel_type:"newsletter",service:"repsol.com",event_detail:"newsletter"};-1===o.indexOf("?idToken=news")?(t.funnel_action="subscribe newsletter",t.profile_change="newsletter interest",t.method="subscribe",Repsol.AnalyticsRomProd.AccountSubscribeRomProd(e,t)):(t.funnel_action="update newsletter",t.profile_change="newsletter interest",t.method="actions",Repsol.AnalyticsRomProd.AccountActionsRomProd(e,t))},getSelectedInterests:function(){let t=[];return $(".box input[type=checkbox]:checked").each(function(){var e=$(this).next().next().next().text();t.push(e)}),t},getSubscriptionsCom:function(){var e=localStorage.getItem("subscriptions"),e=e?JSON.parse(e):null,t="";return t=e&&e.interests&&""===(t=e.interests.filter(function(e){return"create"===e.action}).map(function(e){switch(e.interestid){case"001_personas":return"Personas";case"002_futuroplaneta":return"Futuro del planeta";case"003_movilidadsostenible":return"movilidad sostenible";case"004_tecnologiaeinnovacion":return"tecnología e innovación";default:return""}}).filter(Boolean).join(" | "))?void 0:t},getFormErrorFields:function(e){var t="";if(e.find('.cmp-form-text.error [name], .input-file-box.error [name], .cmp-form-options--dropdown.error [data-name], .cmp-form-options--checkbox [name][data-status=false], .cmp-form-options__field.rp-error[name], .form-ecommerce-form-files .dragdrop-box--error .rp-caption:not(".d-none"), .block-radio-error .cmp-form-options--radio:first [name]').each(function(){$(this).attr("name")||$(this).attr("data-name")?t+=($(this).attr("name")?$(this).attr("name"):$(this).attr("data-name"))+",":t+=$(this).text()+","}),","==t.slice(-1))return t.substring(0,t.length-1)},startScrollTime:function(){startTime=new Date},endScrollTime:function(){var e;return scrolling&&(e=(endTime=new Date)-startTime,e=Math.round(e/1e3),console.log("Tiempo de scroll: "+e+" segundos"),scrolling=!1),e},getMenuName2024:(t,e)=>{let o=void 0;if("data-main-menu-name"===e)if(0<t.closest(".menu__primary").length)o=Repsol.Analytics.getTextLink(t),0<t.closest(".links__link-variant").length&&(o=void 0),0<t.closest(".button-repsol.menu__tab-text").length&&(o=void 0),1023<window.innerWidth&&(o=void 0);else{let e=void 0;var n,i=t.closest(".tab-menu");if(0<i.length){var a=i[0].classList;if(0<a.length)for(var s of a)if(s.startsWith("menu-")){e=s;break}e&&(a=document.querySelector(`[data-menuname="${e}"]`))&&(o=a.textContent),i.attr("data-tabname")&&(menuNameMobile=i.attr("data-tabname"),a=document.querySelector(`[data-targettabname="${menuNameMobile}"]`))&&(o=a.textContent.trim())}(t.hasClass("link-terciary")||t.hasClass("menu_title_mobile__3"))&&(i=(n=t.attr("data-targettabname")).split(".")[0],a=document.querySelector(`.menu__primary--mobile .links__link[data-targettabname^="${i}"]`),o=a?a.textContent.trim():void 0)}else"data-secondary-menu-name"===e&&(0==t.closest(".menu__primary").length&&(0<t.closest(".menu__secondary").length&&(i=t.closest(".links__item--dropdown").find(".links__title").text(),o=i),0<t.closest(".offers").length)&&(o="cards"),0<t.closest(".links__item--dropdown").closest(".menu__secondary--mobile").length&&(o=void 0),t.hasClass("menu-title__mobile")&&0<t.closest(".menu__secondary--mobile").length&&0==t.closest("links__item--mobile").length&&(o=void 0),t.hasClass("link-terciary")||t.hasClass("menu_title_mobile__3"))&&(n=t.closest(".tab-menu").attr("data-tabname"),a=document.querySelector(`.menu__secondary--mobile .links__link[data-targettabname^="${n}"]`),o=a?a.textContent.trim():void 0);return o},getPodcastVideoBasicProvider:function(){var e=$(document).find(".modular-content-podcast-video");if(0<$(document).find(".modular-content-podcast-video-basic").length){var t=$(document).find(".card-podcast-corporate, .info-block a").find("a").attr("href"),o=new URL(t).host,n=o.indexOf(".");if(!(0<t.length))return;if(-1!==n)return o.substring(0,n)}return 0<e.length?"youtube":void 0},getVideoData:function(){var t=window.dataLayer||[],o=[];for(let e=t.length-1;0<=e;e--)if("gtm.video"===t[e].event)return o.push({event:t[e].event,url:t[e]["gtm.elementUrl"],videoTitle:t[e]["gtm.videoTitle"],currentTime:t[e]["gtm.videoCurrentTime"],videoDuration:t[e]["gtm.videoDuration"],videoElapsedTime:t[e]["gtm.videoElapsedTime"],videoStatus:t[e]["gtm.videoStatus"],videoPercent:t[e]["gtm.videoPercent"],videoProvider:t[e]["gtm.videoProvider"]}),o},getCheckboxText:function(t){t=t.closest(".cmp-form-options--checkbox");if(0<t.length){let e=t.find(".cmp-form-options__field-description");if(e.each(function(){if(0==$(this).closest(".pre-lopd").length)return e=$(this),!1}),0<e.length)return $.trim(Repsol.AnalyticsRomProd.Getters.getFreeSpaceText(e.text()))}return $.trim("")},getComponentParentLink:function(e){e=e.parents("[data-component]");return 0<e.length?e.attr("data-component").toLowerCase():null},getTooltipText:function(e){e=e.parent();if(0<e.length){e=e.find(".block-info");if(0<e.length)return $.trim(Repsol.AnalyticsRomProd.Getters.getFreeSpaceText(e.text()))}return $.trim(text)},getLoggedUserType:function(){let e=document.getElementById("textUserType"),t;return null!=e?t=null!=e?e.innerHTML:void 0:null!=document.querySelector(".rp-lubricantes-page")?t=JSON.parse(sessionStorage.getItem("user"))?.user_type:void 0},getEvenType:function(e){e=e.parents("[data-event-type]");if(0<e.length)return(0<e.parents("[data-event-type]").length?e.parents("[data-event-type]"):e).attr("data-event-type").toLowerCase()}},EcommerceCart:{events:{viewItemList:"view_item_list",viewItem:"view_item",viewCart:"view_cart",selectItem:"select_item",addToCart:"add_to_cart",removeFromCart:"remove_from_cart",removeAllFromCart:"remove_all_from_cart",beginCheckout:"begin_checkout",addShippingInfo:"add_shipping_info",addPaymentInfo:"add_payment_info",purchase:"purchase",refund:"refund",repeatOrder:"repeat_order"},ecommerceDataLayer:(t,o,n,i)=>{Repsol.AnalyticsRomProd.EcommerceCart.resetEcommerceData();Repsol.AnalyticsRomProd.EcommerceCart.userIsLogged();let a=Repsol.AnalyticsRomProd.Getters.getComponentLink(o);for(let e=0;e<n.length;e++){var s=n[e],r=Object.keys(s);for(let e=0;e<r.length;e++){var l=r[e];null!=s[l]&&""!=s[l]&&"undefined"!=s[l]||(s[l]=void 0),t!=Repsol.AnalyticsRomProd.EcommerceCart.events.addToCart&&t!=Repsol.AnalyticsRomProd.EcommerceCart.events.removeFromCart&&t!=Repsol.AnalyticsRomProd.EcommerceCart.events.viewCart||"quantity"!=l||(s[l]=1)}}t==Repsol.AnalyticsRomProd.EcommerceCart.events.viewItem&&new Promise((e,t)=>{sessionStorage.getItem("cross-sell-component-name")?e(a=sessionStorage.getItem("cross-sell-component-name")):o.attr("data-component")?e(a=o.attr("data-component")):0<o.closest("[data-component]").length?e(a=o.closest("[data-component]").attr("data-component")):t(new Error("Component not found"))}).then(e=>{a=e,sessionStorage.removeItem("cross-sell-component-name")}).catch(e=>{console.log(e)});var e,c={event:(t=t==Repsol.AnalyticsRomProd.EcommerceCart.events.removeAllFromCart?Repsol.AnalyticsRomProd.EcommerceCart.events.removeAllFromCart:t)+"_rom",component_description:Repsol.AnalyticsRomProd.Getters.getComponentDesc(o)||void 0,component_name:a||Repsol.AnalyticsRomProd.Getters.getComponentLink(o),event_detail:Repsol.AnalyticsRomProd.Getters.getEventDetail(o),component_position:Repsol.AnalyticsRomProd.Getters.getComponentPosition(o),creative_name:void 0,creative_slot:void 0,ecommerce:{items:n}},m=(t==Repsol.AnalyticsRomProd.EcommerceCart.events.selectItem&&(c.item_list_id=void 0,c.item_list_name=void 0),t!=Repsol.AnalyticsRomProd.EcommerceCart.events.addToCart&&t!=Repsol.AnalyticsRomProd.EcommerceCart.events.removeFromCart&&t!=Repsol.AnalyticsRomProd.EcommerceCart.events.viewItem||(c.currency=void 0,c.value=void 0),document.querySelector('meta[name="isQueroGas"][content="true"]')),d=(m&&(m=QueroGasBase.getCartItems().totalInfo,t==Repsol.AnalyticsRomProd.EcommerceCart.events.selectItem&&(e=0<(e=o.closest("[data-list-name]")).length?e.attr("data-list-name"):void 0,c.item_list_name=e||void 0,c.currency="EUR",c.value=m.totalPrice||0),t!=Repsol.AnalyticsRomProd.EcommerceCart.events.addToCart&&t!=Repsol.AnalyticsRomProd.EcommerceCart.events.removeFromCart&&t!=Repsol.AnalyticsRomProd.EcommerceCart.events.viewCart&&t!=Repsol.AnalyticsRomProd.EcommerceCart.events.viewItem&&t!=Repsol.AnalyticsRomProd.EcommerceCart.events.viewItemList||(c.currency="EUR",c.value=m.totalPrice||0),t==Repsol.AnalyticsRomProd.EcommerceCart.events.beginCheckout)&&(c.currency="EUR",c.value=m.totalPrice||0,c.coupon=void 0,c.tax=void 0),Object.keys(i));for(let e=0;e<d.length;e++){var p=d[e];null!=i[p]&&""!=i[p]&&"undefined"!=i[p]||(i[p]=void 0),c[p]=i[p]}Repsol.AnalyticsRomProd.Getters.setInfoClick(c)},getProductsDataLayer:(e,t)=>{var o=Repsol.AnalyticsRomProd.EcommerceCart.getProductData(t);Repsol.AnalyticsRomProd.EcommerceCart.ecommerceDataLayer(e,t,o,{})},getCheckoutDataLayer:(e,t)=>{var o,n,i,a,s,r,l=document.querySelector('meta[name="isQueroGas"][content="true"]'),c=(e!=Repsol.AnalyticsRomProd.EcommerceCart.events.purchase||l?(i=$(".checkout-component").find(".checkout-order-box.main"),r=Repsol.AnalyticsRomProd.EcommerceCart.getProductData(i),l&&(r=Repsol.AnalyticsRomProd.EcommerceCart.getProductData(t)),d=i.find("[data-coupon]")?i.find("[data-coupon]").attr("data-coupon"):void 0,p=i.find("[data-currency]")?i.find("[data-currency]").attr("data-currency"):void 0,i=i.find("[data-total-value]")?parseFloat(i.find("[data-total-value]").attr("data-total-value")):void 0,o=t.closest(".cmp-form-options").find(".cmp-form-options__field-description .rp-body-1")):(d=(m=JSON.parse(sessionStorage.getItem("user")))&&m.coupon?m.coupon:void 0,n=m&&m.order?m.order:void 0,p=m&&m.currency?m.currency:void 0,i=m&&m.totalValue?parseFloat(m.totalValue):void 0,m&&m.affilation&&m.affilation,a=m&&m.shippingMethod?m.shippingMethod:void 0,s=m&&m.paymentMethod?m.paymentMethod:void 0,m&&m.business&&m.business,r=m.products||[]),{coupon:d,currency:p,value:i});switch(e){case Repsol.AnalyticsRomProd.EcommerceCart.events.addShippingInfo:c.shipping_tier=o?o.text().trim():void 0;break;case Repsol.AnalyticsRomProd.EcommerceCart.events.addPaymentInfo:c.payment_type=o?o.text().trim():void 0;break;case Repsol.AnalyticsRomProd.EcommerceCart.events.purchase:c.transaction_id=n,c.tax=void 0,c.shipping=a}if(l){var m=QueroGasBase.getCartItems().totalInfo,d=JSON.parse(sessionStorage.getItem("discountData"))||{};if(c.currency="EUR",c.shipping_tier=void 0,c.shipping=m?.totalShipping||0,c.value=m?.totalPrice||0,c.coupon=d?.promoCode||void 0,c.tax=void 0,e==Repsol.AnalyticsRomProd.EcommerceCart.events.purchase){var p=sessionStorage.getItem("transactionId")||void 0;let e=sessionStorage.getItem("paymentType")||void 0;c.transaction_id=p,c.payment_type=e}}Repsol.AnalyticsRomProd.EcommerceCart.ecommerceDataLayer(e,t,r,c)},getCartStoreDataLayer:(e,t)=>{$(document).find(".cart-component").attr("data-coupon");var o=$(document).find(".cart-component").attr("data-currency"),n=$(document).find(".cart-component").attr("data-value"),i=Repsol.AnalyticsRomProd.EcommerceCart.getProductData(t);Repsol.AnalyticsRomProd.EcommerceCart.ecommerceDataLayer(e,t,i,{currency:o,value:n})},resetEcommerceData:()=>{Repsol.AnalyticsRomProd.Getters.sendDataLayer({ecommerce:null})},userIsLogged:()=>"true"===Repsol.AnalyticsRomProd.Getters.getCookie("isLogged"),getProductData:function(o){let A=[],b=o.attr("data-event");o.find(".js-analyitics-store").each(function(){var e=$(this),t=e.find(".js-analyitics-store-product"),o=e.closest("[data-component]");let n="",i=t.attr("data-id"),a=t.attr("data-name"),s=t.attr("data-category"),r=t.attr("data-brand"),l=t.attr("data-price"),c=t.attr("data-variant"),m=0<e.parent("[data-list-index]").length?e.parent("[data-list-index]").attr("data-list-index"):"",d=t.attr("data-quantity"),p=Repsol.Analytics.ES.getBusinessMeta(),u=t.attr("data-image"),_=t.attr("data-description"),g=t.attr("data-discount"),R=(t.attr("data-sku"),t.attr("data-list-name")),v=(t.attr("data-salable-quantity"),t.attr("data-currency"),t.attr("data-coupon"));n=sessionStorage.getItem("cross-sell-component-name")?sessionStorage.getItem("cross-sell-component-name"):0<o.length?o.attr("data-component"):"",isNaN(parseInt(m))||(m=parseInt(m)+1),d=isNaN(parseInt(d))?"":parseInt(d);var y={item_id:i,item_name:a,item_brand:r,price:parseFloat(l),item_variant:c,item_list_id:void 0,item_list_name:R,index:m,quantity:d,affiliation:p,discount:g?parseFloat(g):0,coupon:v,promotion_id:void 0,promotion_name:void 0,creative_name:void 0,creative_slot:void 0,location_id:void 0},e=s?s.split(","):[];var f=e.filter(e=>"2_Default Category"!=e),h=(e.length!=f.length?e:f).length;if(0<f.length)for(let e=0;e<h;e++){var P=f[e]??"";0==e?y.item_category=P:y["item_category"+(e+1)]=P}else y.item_category="",y.item_category2="";b===Repsol.AnalyticsRomProd.EcommerceCart.events.addToCart&&(y.image_path=u||void 0,y.product_description=_||void 0),A.push(y)});var e=document.querySelector('meta[name="isQueroGas"][content="true"]');return e&&(e=QueroGasBase.getCartItems().items,A=e.map(e=>{var t=o.closest("[data-list-name]"),t=0<t.length?t.attr("data-list-name"):void 0;return{item_list_id:e.item_list_id,item_list_name:t,item_category:e.item_category,item_id:e.item_id,item_name:e.item_name,price:parseFloat(e.price),quantity:parseInt(e.quantity),item_variant:e.item_variant,item_brand:e.item_brand,affiliation:e.affiliation}})),A},getContentName:function(e){let t="";e=e.hasClass("modal")?e:0<e.closest(".modal").length?e.closest(".modal"):"";return(t=e?e.find(".modal-header").text().trim():t)||void 0},getTextLinkSVA:function(e){var t="",e=e.closest(".cmp-form-options"),t=0<e.find(".cmp-form-options__field-description .rp-body-1").length?e.find(".cmp-form-options__field-description .rp-body-1").text():"undefined";return t=Repsol.AnalyticsRomProd.Getters.getFreeSpaceText(t),$.trim(t)},setMainName:function(){return 0<$(".product-list__filters-category-header").length?$(".product-list__filters-category-header .product-list__filters-category-title").text().length?$(".product-list__filters-category-header .product-list__filters-category-title").text():void 0:$(".product-list__category-header .product-list__category-title").text().length?$(".product-list__category-header .product-list__category-title").text():void 0}},clickInteractionRomProd:function(e,t){var o=e.closest("[data-component]"),n={event:"interaction_rom",component_catalogue:t.component_catalogue||Repsol.AnalyticsRomProd.Getters.getComponentCatalog(e),component_description:t.component_description||Repsol.AnalyticsRomProd.Getters.getComponentDesc(e)||void 0,component_name:t.component_name||Repsol.AnalyticsRomProd.Getters.getComponentLink(e),component_position:t.component_position||Repsol.AnalyticsRomProd.Getters.getComponentPosition(e),content_name:t.content_name||Repsol.AnalyticsRomProd.Getters.getContentName(e),element_description:t.element_description||Repsol.AnalyticsRomProd.Getters.getElementDescription(e),element_type:t.element_type||Repsol.AnalyticsRomProd.Getters.getTypeInteraction(e),link_text:t.link_text||Repsol.AnalyticsRomProd.Getters.getTextLink(e),event_detail:t.event_detail||Repsol.AnalyticsRomProd.Getters.getEventDetail(e)};null!=t.field_name_1&&(n.field_name_1=t.field_name_1||void 0,n.field_name_2=t.field_name_2||void 0,n.field_name_3=t.field_name_3||void 0,n.field_name_4=t.field_name_4||void 0,n.field_value_1=t.field_value_1||void 0,n.field_value_2=t.field_value_2||void 0,n.field_value_3=t.field_value_3||void 0,n.field_value_4=t.field_value_4||void 0,n.selected_option_1=t.selected_option_1||void 0,n.selected_option_2=t.selected_option_2||void 0,n.selected_option_3=t.selected_option_3||void 0,n.selected_option_4=t.selected_option_4||void 0),Repsol.AnalyticsRomProd.Site.isCommerceSite&&(n.gdpr_4__c=Repsol.AnalyticsRomProd.Getters.getGDPR4(o),n.establishment_adress=t.establishment_adress||Repsol.AnalyticsRomProd.Getters.getEstablishmentAdress()),(Repsol.AnalyticsRomProd.Site.isGuiaSite||Repsol.AnalyticsRomProd.Site.isEessSite||Repsol.AnalyticsRomProd.Site.isLubricants)&&(n.establishment_adress=t.establishment_adress||Repsol.AnalyticsRomProd.Getters.getEstablishmentAdress(),n.establishment_category=t.establishment_category||Repsol.AnalyticsRomProd.Getters.getEstablishmentCategory(),n.establishment_name=t.establishment_name||Repsol.AnalyticsRomProd.Getters.getEstablishmentName(),n.establishment_raiting=t.establishment_raiting||Repsol.AnalyticsRomProd.Getters.getEstablishmentRaiting(),n.establishment_type=t.establishment_type||Repsol.AnalyticsRomProd.Getters.getEstablishmentType(e)),t.is_establishment_filter&&(n.gdpr_4__c=void 0,n.establishment_type=t.establishment_type||void 0),t.is_establishment&&(n.gdpr_4__c=void 0,n.establishment_name=t.establishment_name||void 0,n.establishment_category=t.establishment_category||void 0,n.establishment_adress=t.establishment_adress||void 0),Repsol.AnalyticsRomProd.Getters.setInfoClick(n)},videoRomProd:function(e,t){var o=Repsol.AnalyticsRomProd.Getters.getVideoData()||void 0,o={event:"video_rom",video_current_time:null!=o?o[0].currentTime.toString():t.video_current_time.toString()||void 0,video_duration:null!=o?o[0].videoDuration.toString():t.video_duration.toString()||void 0,video_percent:null!=o?o[0].videoPercent.toString():t.video_percent.toString()||void 0,video_status:t.video_status||void 0,video_title:null!=o?o[0].videoTitle:t.video_title||void 0,video_url:null!=o?o[0].url:t.video_url||void 0,video_provider:t.video_provider||Repsol.AnalyticsRomProd.Getters.getPodcastVideoBasicProvider()||void 0,component_name:t.component_name||Repsol.AnalyticsRomProd.Getters.getComponentLink(e),component_position:t.component_position||Repsol.AnalyticsRomProd.Getters.getComponentPosition(e),event_detail:t.event_detail||Repsol.AnalyticsRomProd.Getters.getEventDetail(e)};Repsol.AnalyticsRomProd.Getters.setInfoClick(o)},podcastRomProd:function(e,t){t={event:"podcast_rom",video_current_time:null!=t.video_current_time?t.video_current_time.toString():void 0,video_duration:null!=t.video_duration?t.video_duration.toString():void 0,video_percent:null!=t.video_percent?t.video_percent.toString():void 0,video_status:t.video_status||void 0,video_title:t.video_title||void 0,video_url:t.video_url||void 0,component_name:Repsol.AnalyticsRomProd.Getters.getComponentLink(e),event_detail:Repsol.AnalyticsRomProd.Getters.getEventDetail(e)};Repsol.AnalyticsRomProd.Getters.setInfoClick(t)},fileDownloadRomProd:function(e){e={event:"file_download_rom",component_catalogue:Repsol.AnalyticsRomProd.Getters.getComponentCatalog(e),component_name:Repsol.AnalyticsRomProd.Getters.getComponentLink(e),component_position:Repsol.AnalyticsRomProd.Getters.getComponentPosition(e),component_description:Repsol.AnalyticsRomProd.Getters.getComponentDesc(e)||void 0,content_name:Repsol.AnalyticsRomProd.Getters.getContentName(e),file_name:Repsol.AnalyticsRomProd.Getters.getFilename(e.attr("href"))||void 0,link_domain:Repsol.AnalyticsRomProd.Getters.getDomineLink(e),link_text:Repsol.AnalyticsRomProd.Getters.getTextLink(e),link_url:e.attr("href")||void 0,event_detail:Repsol.AnalyticsRomProd.Getters.getEventDetail(e)};Repsol.AnalyticsRomProd.Getters.setInfoClick(e)},searchRomProd:function(e,t){var o={event:"search_rom",component_name:t.component_name||Repsol.AnalyticsRomProd.Getters.getComponentLink(e),component_catalogue:t.component_catalogue||Repsol.AnalyticsRomProd.Getters.getComponentCatalog(e),component_position:t.component_position||Repsol.AnalyticsRomProd.Getters.getComponentPosition(e),event_detail:t.event_detail||Repsol.AnalyticsRomProd.Getters.getEventDetail(e),search_engine_name:t.search_engine_name||Repsol.AnalyticsRomProd.Getters.getComponentLink(e),search_suggestion:t.search_suggestion||void 0,search_term:t.search_term||void 0};(Repsol.AnalyticsRomProd.Site.isGuiaSite||Repsol.AnalyticsRomProd.Site.isEessSite||Repsol.AnalyticsRomProd.Site.isLubricants)&&(o.establishment_adress=t.establishment_adress||Repsol.AnalyticsRomProd.Getters.getEstablishmentAdress(),o.establishment_category=t.establishment_category||Repsol.AnalyticsRomProd.Getters.getEstablishmentCategory(),o.establishment_name=t.establishment_name||Repsol.AnalyticsRomProd.Getters.getEstablishmentName(),o.establishment_raiting=t.establishment_raiting||Repsol.AnalyticsRomProd.Getters.getEstablishmentRaiting(),o.establishment_type=t.establishment_type||Repsol.AnalyticsRomProd.Getters.getEstablishmentType(e)),Repsol.AnalyticsRomProd.Getters.setInfoClick(o)},filterRomProd:function(e,t){e={event:"filter_rom",component_description:t.component_description||Repsol.AnalyticsRomProd.Getters.getComponentDesc(e)||void 0,component_name:t.component_name||Repsol.AnalyticsRomProd.Getters.getComponentLink(e),component_catalogue:t.component_catalogue||Repsol.AnalyticsRomProd.Getters.getComponentCatalog(e),component_position:t.component_position||Repsol.AnalyticsRomProd.Getters.getComponentPosition(e),event_detail:t.event_detail||Repsol.AnalyticsRomProd.Getters.getEventDetail(e),field_name_1:t.field_name_1||void 0,field_name_2:t.field_name_2||void 0,field_name_3:t.field_name_3||void 0,field_name_4:t.field_name_4||void 0,field_value_1:t.field_value_1||void 0,field_value_2:t.field_value_2||void 0,field_value_3:t.field_value_3||void 0,field_value_4:t.field_value_4||void 0,filter_interaction:t.filter_interaction||e.text().trim()||void 0,filter_search_term:t.filter_search_term||void 0,filter_section:t.filter_section||void 0,selected_option_1:t.selected_option_1||void 0,selected_option_2:t.selected_option_2||void 0,selected_option_3:t.selected_option_3||void 0,selected_option_4:t.selected_option_4||void 0};Repsol.AnalyticsRomProd.Getters.setInfoClick(e)},menuClickRomProd:function(e,t){var o=Repsol.AnalyticsRomProd.Getters.getMenuSite(e),o={event:"menu_click_rom",component_catalogue:t.component_catalogue||Repsol.AnalyticsRomProd.Getters.getComponentCatalog(e),component_name:t.component_name||Repsol.AnalyticsRomProd.Getters.getComponentLink(e),component_position:t.component_position||Repsol.AnalyticsRomProd.Getters.getComponentPosition(e),link_domain:t.link_domain||null!=e.attr("href")?Repsol.AnalyticsRomProd.Getters.getDomineLink(e):void 0,link_text:t.link_text||Repsol.AnalyticsRomProd.Getters.getTextLink(e),link_type:t.link_type||Repsol.AnalyticsRomProd.Getters.getTypeLink(e),link_url:t.link_url||e.attr("href")||e.find("a[href]").attr("href")||void 0,menu_name:t.menu_name||null!=o?o.menu_name:Repsol.AnalyticsRomProd.Getters.getMenuName2024(e,"data-menu-name"),menu_level:t.menu_level||null!=o?o.menu_level:void 0,menu_main_name:t.menu_main_name||null!=o?o.menu_main_name:Repsol.AnalyticsRomProd.Getters.getMenuName2024(e,"data-main-menu-name"),menu_secondary_name:t.menu_secondary_name||null!=o?o.menu_secondary_name:Repsol.AnalyticsRomProd.Getters.getMenuName2024(e,"data-secondary-menu-name"),menu_tertiary_name:t.menu_tertiary_name||null!=o?o.menu_tertiary_name:Repsol.AnalyticsRomProd.Getters.getMenuName2024(e,"data-tertiary-menu-name"),event_detail:t.event_detail||Repsol.AnalyticsRomProd.Getters.getEventDetail(e)};Repsol.AnalyticsRomProd.Getters.isMarcaBlancaSite()&&(o.component_name=Repsol.AnalyticsRomProd.Getters.getComponentNameMarcaBlanca(e)),Repsol.AnalyticsRomProd.Getters.setInfoClick(o)},menuClickRomProd2024:function(t,e){var o="main desktop",o=(window.innerWidth<=768&&(o="main mobile"),{event:"menu_click_rom",component_catalogue:e.component_catalogue||Repsol.AnalyticsRomProd.Getters.getComponentCatalog(t),component_name:e.component_name||Repsol.AnalyticsRomProd.Getters.getComponentLink(t),component_position:Repsol.AnalyticsRomProd.Getters.getComponentPosition(t)||Repsol.AnalyticsRomProd.Getters.getComponentLink(t),link_domain:e.link_domain||null!=t.attr("href")?Repsol.AnalyticsRomProd.Getters.getDomineLink(t):void 0,link_text:e.link_text||Repsol.AnalyticsRomProd.Getters.getTextLink(t),link_type:e.link_type||Repsol.AnalyticsRomProd.Getters.getTypeLink(t),link_url:e.link_url||t.attr("href")||t.find("a[href]").attr("href")||void 0,menu_main_name:e.menu_main_name||Repsol.AnalyticsRomProd.Getters.getMenuName2024(t,"data-main-menu-name"),menu_name:e.menu_name||o,menu_secondary_name:Repsol.AnalyticsRomProd.Getters.getMenuName2024(t,"data-secondary-menu-name"),menu_tertiary_name:Repsol.AnalyticsRomProd.Getters.getMenuName2024(t,"data-tertiary-menu-name"),event_detail:e.event_detail||Repsol.AnalyticsRomProd.Getters.getEventDetail(t)});if((t.hasClass("product-list__filters-category-link")||t.hasClass("product-list__category-link"))&&(o.menu_name="secondary",o.menu_secondary_name=t.text(),o.menu_tertiary_name=void 0,o.menu_main_name=Repsol.AnalyticsRomProd.EcommerceCart.setMainName()),t.hasClass("product-list__filters-category-sub-list-link")||t.hasClass("product-list__filters-category-sub-list-2-link")||t.hasClass("product-list__category-sub-list-link")){let e="";e=0<t.closest(".product-list__filters-category-item").length?t.closest(".product-list__filters-category-item").find(".product-list__filters-category-link:first").text().length?t.closest(".product-list__filters-category-item").find(".product-list__filters-category-link:first").text():void 0:t.closest(".product-list__category-item").find(".product-list__category-link:first").text().length?t.closest(".product-list__category-item").find(".product-list__category-link:first").text():void 0,o.menu_name="tertiary",o.menu_secondary_name=e,o.menu_tertiary_name=t.text()}Repsol.AnalyticsRomProd.Getters.setInfoClick(o)},menuViewRomProd2024:function(e,t){var o="main desktop",o=(window.innerWidth<=768&&(o="main mobile"),{event:"menu_view_rom",component_catalogue:t.component_catalogue||Repsol.AnalyticsRomProd.Getters.getComponentCatalog(e),component_name:t.component_name||Repsol.AnalyticsRomProd.Getters.getComponentLink(e),component_position:Repsol.AnalyticsRomProd.Getters.getComponentPosition(e),link_domain:t.link_domain||null!=e.attr("href")?Repsol.AnalyticsRomProd.Getters.getDomineLink(e):void 0,link_text:t.link_text||Repsol.AnalyticsRomProd.Getters.getTextLink(e),link_type:t.link_type||Repsol.AnalyticsRomProd.Getters.getTypeLink(e),link_url:t.link_url||e.attr("href")||e.find("a[href]").attr("href")||void 0,menu_main_name:t.menu_main_name||Repsol.AnalyticsRomProd.Getters.getMenuName2024(e,"data-main-menu-name"),menu_name:t.menu_name||o,menu_secondary_name:Repsol.AnalyticsRomProd.Getters.getMenuName2024(e,"data-secondary-menu-name"),menu_tertiary_name:Repsol.AnalyticsRomProd.Getters.getMenuName2024(e,"data-tertiary-menu-name"),event_detail:t.event_detail||Repsol.AnalyticsRomProd.Getters.getEventDetail(e)});Repsol.AnalyticsRomProd.Getters.setInfoClick(o)},leadRomProd:function(e,t){var o=e.closest("[data-component]"),e={event:"lead_rom",component_name:t.component_name||Repsol.AnalyticsRomProd.Getters.getComponentLink(e),component_position:t.component_position||Repsol.AnalyticsRomProd.Getters.getComponentPosition(e),funnel_type:t.funnel_type||Repsol.AnalyticsRomProd.Getters.getFunnelType(),x_lead_id:t.leadId||void 0,event_detail:t.event_detail||Repsol.AnalyticsRomProd.Getters.getEventDetail(e)};Repsol.AnalyticsRomProd.Site.isCommerceSite&&(e.gdpr_4__c=t.gdpr_4__c||Repsol.AnalyticsRomProd.Getters.getGDPR4(o),e.lead_digitalcategory=t.category||void 0),Repsol.AnalyticsRomProd.Getters.setInfoClick(e)},leadUpdateRomProd:function(e,t){var o=JSON.parse(sessionStorage.getItem("gigyaUserROM")),n=e.closest("[data-component]"),o={event:"lead_update_rom",user_id:o?o.user_id:void 0,component_name:t.component_name||Repsol.AnalyticsRomProd.Getters.getComponentLink(e),component_position:t.component_position||Repsol.AnalyticsRomProd.Getters.getComponentPosition(e),funnel_type:t.funnel_type||Repsol.AnalyticsRomProd.Getters.getFunnelType(),x_lead_id:t.leadId||void 0,event_detail:t.event_detail||Repsol.AnalyticsRomProd.Getters.getEventDetail(e)};Repsol.AnalyticsRomProd.Site.isCommerceSite&&(o.gdpr_4__c=t.gdpr_4__c||Repsol.AnalyticsRomProd.Getters.getGDPR4(n),o.lead_digitalcategory=t.category||void 0),Repsol.AnalyticsRomProd.Getters.setInfoClick(o)},errorRomProd:function(e,t){t={event:"r_error_rom",business:t.business||Repsol.AnalyticsRomProd.Getters.getBusinessMeta(),component_catalogue:Repsol.AnalyticsRomProd.Getters.getComponentCatalog(e),component_name:t.component_name||Repsol.AnalyticsRomProd.Getters.getComponentLink(e),component_position:t.component_position||Repsol.AnalyticsRomProd.Getters.getComponentPosition(e),error_description:t.error_description||void 0,error_type:t.error_type||Repsol.AnalyticsRomProd.Getters.getErrorType(e),event_detail:t.event_detail||Repsol.AnalyticsRomProd.Getters.getEventDetail(e)};Repsol.AnalyticsRomProd.Getters.setInfoClick(t)},formRomProd:function(e,t){e={event:"form_rom",business:Repsol.AnalyticsRomProd.Getters.getBusinessMeta(e),component_catalogue:Repsol.AnalyticsRomProd.Getters.getComponentCatalog(e),component_position:Repsol.AnalyticsRomProd.Getters.getComponentPosition(e),event_detail:Repsol.AnalyticsRomProd.Getters.getEventDetail(e),field_name_1:t.field_name_1||void 0,field_name_2:t.field_name_2||void 0,field_name_3:t.field_name_3||void 0,field_value_1:t.field_value_1||void 0,field_value_2:t.field_value_2||void 0,field_value_3:t.field_value_3||void 0,form_action:e.text().trim()||void 0,form_type:t.form_type||void 0,selected_option_1:t.selected_option_1||void 0,selected_option_2:t.selected_option_2||void 0,selected_option_3:t.selected_option_3||void 0};Repsol.AnalyticsRomProd.Getters.setInfoClick(e)},viewElementRomProd:function(e,t){t={event:"view_element_rom",component_description:t.component_description||Repsol.AnalyticsRomProd.Getters.getComponentDesc(e)||void 0,component_name:t.component_name||Repsol.AnalyticsRomProd.Getters.getComponentLink(e),content_name:t.content_name||Repsol.AnalyticsRomProd.Getters.getContentName(e),event_detail:t.event_detail||Repsol.AnalyticsRomProd.Getters.getEventDetail(e)};Repsol.AnalyticsRomProd.Getters.setInfoClick(t)},AccountActionsRomProd:function(e,t){var o=JSON.parse(sessionStorage.getItem("gigyaUserROM")),e={event:"account_actions_rom",method:t.method||void 0,profile_change:t.profile_change||void 0,account_action:t.account_action||void 0,component_name:t.component_name||Repsol.AnalyticsRomProd.Getters.getComponentLink(e),component_position:t.component_position||Repsol.AnalyticsRomProd.Getters.getComponentPosition(e),customer_type:t.customer_type||void 0,event_detail:t.event_detail||Repsol.AnalyticsRomProd.Getters.getEventDetail(e),field_name_1:t.field_name_1||void 0,field_name_2:t.field_name_2||void 0,field_name_3:t.field_name_3||void 0,field_name_4:t.field_name_4||void 0,field_value_1:t.field_value_1||void 0,field_value_2:t.field_value_2||void 0,field_value_3:t.field_value_3||void 0,field_value_4:t.field_value_4||void 0,funnel_step:t.funnel_step||Repsol.AnalyticsRomProd.Getters.getFunnelStep(e),funnel_action:t.funnel_action||Repsol.AnalyticsRomProd.Getters.getFunnelAction(e),funnel_type:t.funnel_type||Repsol.AnalyticsRomProd.Getters.getFunnelType(),selected_option_1:t.selected_option_1||void 0,selected_option_2:t.selected_option_2||void 0,selected_option_3:t.selected_option_3||void 0,selected_option_4:t.selected_option_4||void 0,service:t.service||void 0,user_services:o?Repsol.AnalyticsRomProd.Getters.getUserServices(o.user_services):void 0};Repsol.AnalyticsRomProd.Getters.setInfoClick(e)},AccountErrorRomProd:function(e,t){var o=JSON.parse(sessionStorage.getItem("gigyaUserROM")),e={event:"account_error_rom",error_type:t.error_type||Repsol.AnalyticsRomProd.Getters.getErrorType(e),error_description:t.error_description||Repsol.AnalyticsRomProd.Getters.getFormErrorFields(e),method:t.method||void 0,account_action:t.account_action||"error",component_name:t.component_name||Repsol.AnalyticsRomProd.Getters.getComponentLink(e),component_position:t.component_position||Repsol.AnalyticsRomProd.Getters.getComponentPosition(e),customer_type:t.customer_type||void 0,event_detail:t.event_detail||Repsol.AnalyticsRomProd.Getters.getEventDetail(e),funnel_step:t.funnel_step||Repsol.AnalyticsRomProd.Getters.getFunnelStep(e),funnel_action:t.funnel_action||Repsol.AnalyticsRomProd.Getters.getFunnelAction(e),funnel_type:t.funnel_type||Repsol.AnalyticsRomProd.Getters.getFunnelType(),service:t.service||void 0,user_services:o?Repsol.AnalyticsRomProd.Getters.getUserServices(o.user_services):void 0};Repsol.AnalyticsRomProd.Getters.setInfoClick(e)},AccountLoginRomProd:function(e,t){var o=JSON.parse(sessionStorage.getItem("gigyaUserROM")),e={event:"account_login_rom",method:t.method||void 0,account_action:"login",component_name:t.component_name||Repsol.AnalyticsRomProd.Getters.getComponentLink(e),component_position:t.component_position||Repsol.AnalyticsRomProd.Getters.getComponentPosition(e),customer_type:t.customer_type||void 0,event_detail:t.event_detail||Repsol.AnalyticsRomProd.Getters.getEventDetail(e),funnel_step:t.funnel_step||Repsol.AnalyticsRomProd.Getters.getFunnelStep(e),funnel_action:t.funnel_action||Repsol.AnalyticsRomProd.Getters.getFunnelAction(e),funnel_type:t.funnel_type||Repsol.AnalyticsRomProd.Getters.getFunnelType(),service:t.service||void 0,user_services:o?Repsol.AnalyticsRomProd.Getters.getUserServices(o.user_services):void 0};Repsol.AnalyticsRomProd.Getters.setInfoClick(e)},AccountRegisterRomProd:function(e,t){var o=JSON.parse(sessionStorage.getItem("gigyaUserROM")),e={event:"account_register_rom",method:t.method||void 0,account_action:"register",component_name:t.component_name||Repsol.AnalyticsRomProd.Getters.getComponentLink(e),component_position:t.component_position||Repsol.AnalyticsRomProd.Getters.getComponentPosition(e),customer_type:t.customer_type||void 0,event_detail:t.event_detail||Repsol.AnalyticsRomProd.Getters.getEventDetail(e),funnel_step:t.funnel_step||Repsol.AnalyticsRomProd.Getters.getFunnelStep(e),funnel_action:t.funnel_action||Repsol.AnalyticsRomProd.Getters.getFunnelAction(e),funnel_type:t.funnel_type||Repsol.AnalyticsRomProd.Getters.getFunnelType(),service:t.service||void 0,user_services:o?Repsol.AnalyticsRomProd.Getters.getUserServices(o.user_services):void 0,user_identity:t.user_identity||void 0};Repsol.AnalyticsRomProd.Getters.setInfoClick(e)},AccountSubscribeRomProd:function(e,t){var o=JSON.parse(sessionStorage.getItem("gigyaUserROM")),e={event:"account_subscribe_rom",method:t.method||void 0,account_action:"Subscribe",component_name:t.component_name||Repsol.AnalyticsRomProd.Getters.getComponentLink(e),component_position:t.component_position||Repsol.AnalyticsRomProd.Getters.getComponentPosition(e),customer_type:t.customer_type||void 0,event_detail:t.event_detail||Repsol.AnalyticsRomProd.Getters.getEventDetail(e),field_name_1:t.field_name_1||void 0,field_name_2:t.field_name_2||void 0,field_name_3:t.field_name_3||void 0,field_value_1:t.field_value_1||void 0,field_value_2:t.field_value_2||void 0,field_value_3:t.field_value_3||void 0,funnel_step:t.funnel_step||Repsol.AnalyticsRomProd.Getters.getFunnelStep(e),funnel_action:t.funnel_action||Repsol.AnalyticsRomProd.Getters.getFunnelAction(e),funnel_type:t.funnel_type||Repsol.AnalyticsRomProd.Getters.getFunnelType(),selected_option_1:t.selected_option_1||void 0,selected_option_2:t.selected_option_2||void 0,selected_option_3:t.selected_option_3||void 0,service:t.service||void 0,user_bulletins:o?o.user_bulletins:void 0};Repsol.AnalyticsRomProd.Getters.setInfoClick(e)},AccountVerificationRomProd:function(e,t){var o=JSON.parse(sessionStorage.getItem("gigyaUserROM")),e={event:"account_verification_rom",method:t.method||void 0,account_action:"verification",component_name:t.component_name||Repsol.AnalyticsRomProd.Getters.getComponentLink(e),component_position:t.component_position||Repsol.AnalyticsRomProd.Getters.getComponentPosition(e),customer_type:t.customer_type||void 0,event_detail:t.event_detail||Repsol.AnalyticsRomProd.Getters.getEventDetail(e),funnel_step:t.funnel_step||Repsol.AnalyticsRomProd.Getters.getFunnelStep(e),funnel_action:t.funnel_action||Repsol.AnalyticsRomProd.Getters.getFunnelAction(e),funnel_type:t.funnel_type||Repsol.AnalyticsRomProd.Getters.getFunnelType(),service:t.service||void 0,user_services:o?Repsol.AnalyticsRomProd.Getters.getUserServices(o.user_services):void 0};Repsol.AnalyticsRomProd.Getters.setInfoClick(e)},linkClickRomProd:function(e,t){var o={event:"link_click_rom",component_catalogue:t.component_catalogue||Repsol.AnalyticsRomProd.Getters.getComponentCatalog(e),component_description:t.component_description||Repsol.AnalyticsRomProd.Getters.getComponentDesc(e)||void 0,component_name:t.component_name||Repsol.AnalyticsRomProd.Getters.getComponentLink(e),component_position:t.component_position||Repsol.AnalyticsRomProd.Getters.getComponentPosition(e),content_name:t.content_name||Repsol.AnalyticsRomProd.Getters.getContentName(e),link_domain:t.link_domain||Repsol.AnalyticsRomProd.Getters.getDomineLink(e),link_is_cta:t.link_is_cta||e.attr("data-cta")||"False",link_text:t.link_text||Repsol.AnalyticsRomProd.Getters.getTextLink(e),link_type:t.link_type||Repsol.AnalyticsRomProd.Getters.getTypeLink(e),link_url:t.link_url||e.attr("href")||void 0,event_detail:t.event_detail||Repsol.AnalyticsRomProd.Getters.getEventDetail(e)};(Repsol.AnalyticsRomProd.Site.isGuiaSite||Repsol.AnalyticsRomProd.Site.isEessSite||Repsol.AnalyticsRomProd.Site.isLubricants)&&(o.establishment_adress=t.establishment_adress||Repsol.AnalyticsRomProd.Getters.getEstablishmentAdress(),o.establishment_category=t.establishment_category||Repsol.AnalyticsRomProd.Getters.getEstablishmentCategory(),o.establishment_name=t.establishment_name||Repsol.AnalyticsRomProd.Getters.getEstablishmentName(),o.establishment_raiting=t.establishment_raiting||Repsol.AnalyticsRomProd.Getters.getEstablishmentRaiting(),o.establishment_type=t.establishment_type||Repsol.AnalyticsRomProd.Getters.getEstablishmentType(e)),Repsol.AnalyticsRomProd.Site.isCommerceSite&&(o.establishment_adress=t.establishment_adress||Repsol.AnalyticsRomProd.Getters.getEstablishmentAdress()),t.is_establishment_filter&&(o.establishment_type=t.establishment_type||void 0),t.is_establishment&&(o.establishment_name=t.establishment_name||void 0,o.establishment_category=t.establishment_category||void 0,o.establishment_adress=t.establishment_adress||void 0),Repsol.AnalyticsRomProd.Getters.setInfoClick(o)},virtualPageRomProd:function(){var e=Repsol.AnalyticsRomProd.Getters.getPageSections(),t=Repsol.AnalyticsRomProd.Getters.getIdUser(),o=Repsol.AnalyticsRomProd.Getters.getInfoUser(),n=isRedInterna,i=null!=o.iM?o.iM:o.IsManager,a=JSON.parse(sessionStorage.getItem("gigyaUserROM")),e=(Repsol.AnalyticsRomProd.Getters.setDataLayerPropsStorage(),Repsol.AnalyticsRomProd.Getters.getSiteName(),{event:"virtualpage_ROM",business:Repsol.AnalyticsRomProd.Getters.getBusinessMeta()||void 0,page_app_type:Repsol.AnalyticsRomProd.Getters.getDevice()||void 0,page_content_type:Repsol.AnalyticsRomProd.Getters.getPageContent()||void 0,page_is_public:!!(a||1<=o.length),page_language:e.languaje,page_name:void 0,page_section:e.section,page_type:Repsol.AnalyticsRomProd.Getters.getPageType()||void 0,user_is_employee:n,user_services:a?Repsol.AnalyticsRomProd.Getters.getUserServices(a.user_services):void 0,cro_campaign_id:sessionStorage.getItem("campaign_id")||void 0,cro_campaign_name:sessionStorage.getItem("campaign_name")||void 0,cro_experience_name:sessionStorage.getItem("experience_name")||void 0,user_id:a?a.user_id:void 0});(Repsol.AnalyticsRomProd.Site.isAriaPage||Repsol.AnalyticsRomProd.Site.isIntranetSite||Repsol.AnalyticsRomProd.Site.isDpfPage)&&(e.user_business=o.de||o.department||void 0,e.user_charge=o.jT||void 0,e.user_country=o.cou||o.country||void 0,e.user_department=o.de||o.department||void 0,e.user_employee_id=t||o.rId||o.repsolId||void 0,e.user_employee_type=o.type||void 0,e.user_is_leader=void 0!==i?i:void 0,e.user_office=o.oL||void 0,e.user_org=o.de||o.department||void 0,e.user_uni_org=o.comN||void 0),Repsol.AnalyticsRomProd.Site.isAriaPage&&(e.is_from_copilot=!1,e.user_bulletins=a?a.user_bulletins:void 0),(Repsol.AnalyticsRomProd.Site.isCorporateSite||Repsol.AnalyticsRomProd.Site.isGuiaSite)&&(e.user_bulletins=a?a.user_bulletins:void 0,e.user_interests=Repsol.AnalyticsRomProd.Getters.getUserInterests(),e.page_first_publication_date=datePageCreate||void 0,e.page_last_publication_date=datePagePublic||void 0,e.page_main_tag=Repsol.AnalyticsRomProd.Getters.getTagPage("undefined"!=typeof page_tags?page_tags:void 0,"1"),e.page_secondary_tag=Repsol.AnalyticsRomProd.Getters.getTagPage("undefined"!=typeof page_tags?page_tags:void 0,"2")),(Repsol.AnalyticsRomProd.Site.isCorporateSite||Repsol.AnalyticsRomProd.Site.isGuiaSite||Repsol.AnalyticsRomProd.Site.isIntranetSite)&&(e.page_content_group=void 0!==page_tags_territory&&0!==page_tags_territory.length?page_tags_territory.replace(/[\[\]]/g,""):null),Repsol.AnalyticsRomProd.Getters.setInfoClick(e)},pageLoadRom:function(){var e=Repsol.AnalyticsRomProd.Getters.getPageSections(),t=Repsol.AnalyticsRomProd.Getters.getIdUser(),o=Repsol.AnalyticsRomProd.Getters.getInfoUser(),n=isRedInterna,i=null!=o.iM?o.iM:o.IsManager,a=JSON.parse(sessionStorage.getItem("gigyaUserROM")),e=(Repsol.AnalyticsRomProd.Getters.setDataLayerPropsStorage(),Repsol.AnalyticsRomProd.Getters.getSiteName(),{event:"page_view_ROM",business:Repsol.AnalyticsRomProd.Getters.getBusinessMeta()||void 0,page_app_type:Repsol.AnalyticsRomProd.Getters.getDevice()||void 0,page_content_type:Repsol.AnalyticsRomProd.Getters.getPageContent()||void 0,page_is_public:!!(a||1<=o.length),page_language:e.languaje,page_section:e.section,page_type:Repsol.AnalyticsRomProd.Getters.getPageType()||void 0,user_is_employee:n,user_services:a?Repsol.AnalyticsRomProd.Getters.getUserServices(a.user_services):void 0,cro_campaign_id:sessionStorage.getItem("campaign_id")||void 0,cro_campaign_name:sessionStorage.getItem("campaign_name")||void 0,cro_experience_name:sessionStorage.getItem("experience_name")||void 0,user_id:a?a.user_id:void 0});(Repsol.AnalyticsRomProd.Site.isAriaPage||Repsol.AnalyticsRomProd.Site.isIntranetSite||Repsol.AnalyticsRomProd.Site.isDpfPage)&&(e.user_business=o.de||o.department||void 0,e.user_charge=o.jT||void 0,e.user_country=o.cou||o.country||void 0,e.user_department=o.de||o.department||void 0,e.user_employee_id=t||o.rId||o.repsolId||void 0,e.user_employee_type=o.type||void 0,e.user_is_leader=void 0!==i?i:void 0,e.user_office=o.oL||void 0,e.user_org=o.de||o.department||void 0,e.user_uni_org=o.comN||void 0,e.user_simulated=void 0),Repsol.AnalyticsRomProd.Site.isAriaPage&&(e.is_from_copilot=!1,e.user_bulletins=a?a.user_bulletins:void 0),(Repsol.AnalyticsRomProd.Site.isCorporateSite||Repsol.AnalyticsRomProd.Site.isGuiaSite||Repsol.AnalyticsRomProd.Site.isIntranetSite)&&(e.user_bulletins=a?a.user_bulletins:void 0,e.user_interests=Repsol.AnalyticsRomProd.Getters.getUserInterests(),e.page_first_publication_date=datePageCreate||void 0,e.page_last_publication_date=datePagePublic||void 0,e.page_main_tag=Repsol.AnalyticsRomProd.Getters.getTagPage("undefined"!=typeof page_tags?page_tags:void 0,"1"),e.page_secondary_tag=Repsol.AnalyticsRomProd.Getters.getTagPage("undefined"!=typeof page_tags?page_tags:void 0,"2"),e.page_content_group=void 0!==page_tags_territory&&0!==page_tags_territory.length?page_tags_territory.replace(/[\[\]]/g,""):null),Repsol.AnalyticsRomProd.Getters.setInfoClick(e)},funnelRomProd:function(e,t){var o={event:"funnel_rom",component_catalogue:Repsol.AnalyticsRomProd.Getters.getComponentCatalog(e),event_detail:t.event_detail||Repsol.AnalyticsRomProd.Getters.getEventDetail(e),field_name_1:t.field_name_1||void 0,field_name_2:t.field_name_2||void 0,field_name_3:t.field_name_3||void 0,field_value_1:t.field_value_1||void 0,field_value_2:t.field_value_2||void 0,field_value_3:t.field_value_3||void 0,funnel_step:t.funnel_step||Repsol.AnalyticsRomProd.Getters.getFunnelStep(e),funnel_action:t.funnel_action||Repsol.AnalyticsRomProd.Getters.getFunnelAction(e),funnel_type:t.funnel_type||Repsol.AnalyticsRomProd.Getters.getFunnelType(),selected_option_1:t.selected_option_1||void 0,selected_option_2:t.selected_option_2||void 0,selected_option_3:t.selected_option_3||void 0},n=(Repsol.AnalyticsRomProd.Site.isCommerceSite&&(o.funnel_product=Repsol.AnalyticsRomProd.Getters.getFunnelProduct(e)),document.querySelector('meta[name="isQueroGas"][content="true"]'));n&&(o.component_position=t.component_position||Repsol.AnalyticsRomProd.Getters.getComponentPosition(e)),Repsol.AnalyticsRomProd.Getters.setInfoClick(o)},FunnelCartRomProd:function(e,t,o,n){o={event:t+"_rom",component_description:n.component_description||void 0,component_name:n.component_name||void 0,component_position:n.component_position||void 0,event_detail:n.event_detail||void 0,creative_name:n.creative_name||void 0,creative_slot:n.creative_slot||void 0,ecommerce:{items:o}};t==Repsol.AnalyticsRomProd.EcommerceCart.events.selectItem&&(o.item_list_id=n.item_list_id||void 0,o.item_list_name=n.item_list_name||void 0),t==Repsol.AnalyticsRomProd.EcommerceCart.events.selectItem&&t!=Repsol.AnalyticsRomProd.EcommerceCart.events.viewItemList||(o.currency=n.currency||void 0,o.value=n.value||void 0),t!=Repsol.AnalyticsRomProd.EcommerceCart.events.beginCheckout&&t!=Repsol.AnalyticsRomProd.EcommerceCart.events.addPaymentInfo&&t!=Repsol.AnalyticsRomProd.EcommerceCart.events.addShippingInfo&&!Repsol.AnalyticsRomProd.EcommerceCart.events.purchase||(o.coupon=n.coupon||void 0),t==Repsol.AnalyticsRomProd.EcommerceCart.events.addShippingInfo&&(o.shipping_tier=n.shipping_tier||void 0),t==Repsol.AnalyticsRomProd.EcommerceCart.events.addPaymentInfo&&(o.payment_type=n.payment_type||void 0),t==Repsol.AnalyticsRomProd.EcommerceCart.events.purchase&&(o.transaction_id=n.transaction_id||void 0,o.tax=n.tax||void 0,o.shipping=n.shipping||void 0),Repsol.AnalyticsRomProd.Getters.setInfoClick(o)},clickCalculateRomProd:(e,t)=>{var o=document.querySelectorAll(".general-calculator-cmp__form-fields");let n={event:"form_rom",component_catalogue:Repsol.AnalyticsRomProd.Getters.getComponentCatalog(e),component_position:Repsol.AnalyticsRomProd.Getters.getComponentPosition(e),business:Repsol.AnalyticsRomProd.Getters.getBusinessMeta(),form_action:t.formAction,form_type:"Calculate",form_id:t.formId};function r(e,t){var o;if(e)return o=e.getAttribute("condition-component"),e=e.getAttribute("condition-value"),!o||t[o]===e}o.forEach((e,t)=>{let i={},a=[],s=[];e.querySelectorAll(".options-extended").forEach(e=>{var t=e.querySelector(".label"),e=e.querySelector(".dropdown-toggle"),t=t?.textContent.trim(),o=e?.textContent.trim(),n=e?.getAttribute("name");n&&(i[n]=e.getAttribute("data-value")),r(e,i)&&(a.push(t),s.push(o))}),e.querySelectorAll(".text-extended").forEach(e=>{var t=e.querySelector("label"),e=e.querySelector("input");r(e,i)&&(t=t?.textContent.trim(),e=e?.value.trim(),a.push(t),s.push(e))}),n["field_name_"+(t+1)]=[...new Set(a)].join(" - "),n["selected_option_"+(t+1)]=[...new Set(s)].join(" - ")}),n.event_detail=t.eventDetail,window.dataLayer.push(n)},clickCleanCalculateRomProd:(e,t)=>{t={event:"interaction_rom",component_name:Repsol.AnalyticsRomProd.Getters.getComponentLink(e)||void 0,component_description:Repsol.AnalyticsRomProd.Getters.getComponentDesc(e)||void 0,component_catalogue:Repsol.AnalyticsRomProd.Getters.getComponentCatalog(e),component_position:Repsol.AnalyticsRomProd.Getters.getComponentPosition(e),content_name:t.contentName,element_type:"button",link_text:e?e.find("span").text().trim():void 0};window.dataLayer.push(t)}},$(document).ready(function(){Repsol.AnalyticsRomProd.events(),Repsol.AnalyticsRomProd.Getters.showAccountInfo(),Repsol.AnalyticsRomProd.Getters.getSiteName(),Repsol.AnalyticsRomProd.Getters.AccountVerificationTest()});
