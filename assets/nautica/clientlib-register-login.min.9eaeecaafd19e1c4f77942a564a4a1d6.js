let RepsolRegisterLoginModal={modalId:"#registerLoginModal",observer:{},init:function(){RepsolRegisterLoginModal.events(),RepsolRegisterLoginModal.checkTabs(!1),RepsolRegisterLoginModal.dropdownModalItem(),RepsolRegisterLoginModal.setCurrentPage(),RepsolRegisterLoginModal.pushGoRegisterForm()},events:function(){$(RepsolRegisterLoginModal.modalId).on("shown.bs.modal",function(e){$(e.target).hasClass("register-login-modal-component")?(RepsolRegisterLoginModal.checkTabs(!0),$("body").addClass("modal-open--register-login alerts-on-top--modal loader--modal"),$(document).find(".g-recaptcha").removeClass("d-none"),(e=new MutationObserver(function(e){e.forEach(function(e){var o,t;for(o of e.addedNodes)-1!=o.classList.value.indexOf("gigya-screen-dialog")&&$(RepsolRegisterLoginModal.modalId).removeAttr("tabindex");for(t of e.removedNodes)-1!=t.classList.value.indexOf("gigya-screen-dialog")&&$(RepsolRegisterLoginModal.modalId).attr("tabindex","-1")})})).observe(document.querySelector("body"),{childList:!0}),RepsolRegisterLoginModal.observer=e):(RepsolRegisterLoginModal.checkTabs(!0),$("body").addClass("modal-open--register-login alerts-on-top--modal loader--modal"),$(document).find(".g-recaptcha").removeClass("d-none"))}),$(RepsolRegisterLoginModal.modalId).on("mousedown",function(e){e=$(e.target);"#"+e.attr("id")==RepsolRegisterLoginModal.modalId&&0==e.closest(".modal-dialog").length&&($(RepsolRegisterLoginModal.modalId).modal("hide"),$(".register-login-modal-backdrop").removeClass("show"))}),$("#registerDropdownItemsModal").on("show.bs.modal",function(e){$(this).addClass("backdrop")}),$("#registerDropdownItemsModal").on("hidden.bs.modal",function(e){var o=$(this),o=(o.removeClass("backdrop"),o.parent().closest(".modal"));0<o.length&&!$(document).find("body").hasClass("modal-open")&&o.hasClass("show")&&$(document).find("body").addClass("modal-open")}),$("#registerDropdownItemsModal").on("click",function(e){$(e.target).hasClass("register-item-msg-modal")&&($(this).modal("hide"),$(".register-login-modal-backdrop").removeClass("show"))}),$(document).on("click",".js-show-tab-login",function(e){e.preventDefault();var o,e=$(RepsolRegisterLoginModal.modalId),t=$(".register-login-modal-backdrop");0<e.length&&(e.hasClass("show")||sessionStorage.getItem("infoUser")||sessionStorage.getItem("user")?(o=document.querySelector(".private-area-JS"),window.location.href=o.getAttribute("href")):(e.modal("show"),t.addClass("show")),e.find(".cmp-tabs__tabpanel"),o=e.find(".login-form").closest(".cmp-tabs__tabpanel").attr("id"),0<(t=$(`#${o}-tab`)).length)&&t.click()})},checkTabs:function(e){var o=$(".register-login-modal-component").find(".cmp-tabs__tablist");0<o.length&&(o.hasClass("slick-initialized")&&o.slick("unslick"),e)&&ecommerceTabsCarousel.setTotalWidth(o)},showModal:function(){var e=$(RepsolRegisterLoginModal.modalId);0<e.length&&e.modal("show")},showLoginToUserNotLogged:function(){var e=Repsol.utils.getData("openLoginModal"),o=Repsol.utils.getData("loginRedirected");e&&o&&(RepsolRegisterLoginModal.showModal(),Repsol.utils.removeData("openLoginModal"),Repsol.utils.removeData("loginRedirected"))},showRecaptcha:()=>{var e=$(RepsolRegisterLoginModal.modalId).find(".login-form");0<e.length&&(RepsolRecaptcha.checkCaptcha(e),RepsolRecaptcha.moveCaptcha(e))},hideRecaptcha:()=>{0<$(RepsolRegisterLoginModal.modalId).find(".login-form").length&&(RepsolRecaptcha.moveCaptcha($("#recaptchaID")),RepsolRecaptcha.hideCaptcha())},dropdownModalItem:function(){let e=$("#registerDropdownItemsModal"),o;$(".register-dropdown-item").on("click",function(){o=$(this).attr("data-item-index"),0<e.length&&0<e.find(".modal-content.modal-case-"+o).length&&(e.find(`.modal-content:not(.modal-case-${o})`).addClass("d-none"),e.find(".modal-content.modal-case-"+o).removeClass("d-none"),e.modal("show"))})},setCurrentPage:function(){var e=$(".header-ecom"),o=$(".header-ecom").data("header-type"),t=$(".header-ecom").data("stay-current-page");null!=o&&"store"==o&&null!=t&&t&&$(e).attr("data-current-page",location.href)},pushGoRegisterForm:function(){var e=document.querySelector(".register-login-forms-container");e&&(e=e.querySelector(".tab-border-bottom"))&&(e=e.querySelectorAll('[role="tab"]')[1])&&(e.onclick=function(){var e={component_catalogue:"false",component_description:"Register Form",component_name:"card de register - login",content_name:"Bienvenido al Portal Lubricantes Repsol",element_description:"open form register",element_type:"Text",link_text:"Registrate",establishment_type:void 0};Repsol.AnalyticsRomProd.clickInteractionRomProd($(".register-component "),e)})}};$(".register-dropdown-toggle").on("click",function(){$(this).parent().hasClass("is-active")?$(this).parent().removeClass("is-active"):($(".dropdown").removeClass("is-active"),$(this).parent().addClass("is-active"))}),$(document).ready(function(){document.addEventListener("openModalEvent",function(){$("#registerLoginModal").modal("show")}),$(".close").on("click",function(){$("#registerLoginModal").modal("hide"),$(".register-login-modal-backdrop").removeClass("show")})}),$(document).ready(function(){RepsolRegisterLoginModal.init()}),$(window).on("load",function(){RepsolRegisterLoginModal.showLoginToUserNotLogged()});