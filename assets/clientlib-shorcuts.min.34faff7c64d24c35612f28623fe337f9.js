HeroEs={controller:null,init:function(){/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream?($(".hero-card.hero-product.bg-image").addClass("fix-overflow-iphone"),document.querySelectorAll(".hero-card.hero-input-360").forEach(e=>{e.classList.add("fix-overflow-iphone"),e.closest(".hero-es-component")?.classList.add("fix-overflow-iphone")})):$(".hero-card.hero-product.bg-image").removeClass("fix-overflow-iphone"),HeroEs.videoExisMov=!1,HeroEs.videoExisDes=!1,HeroEs.controller=new ScrollMagic.Controller,$(document).find(".hero-es-component:not(.isAuthor) .hero-card:not(.hero-small, .hero-landing)").each(function(){HeroEs.loadHero($(this)),HeroEs.headerTransp($(this))}),$(document).find(".hero-moments .hero-es-component:not(.isAuthor)").each(function(){HeroEs.videoResize($(this))}),$(document).find(".hero-es-component:not(.isAuthor) .hero-card.hero-tiers").each(function(){HeroEs.setHeightBg($(this))}),HeroEs.shortcutsBackground(),0<$(document).find(".inbenta-sup").length&&window.matchMedia("(max-width: 1024px)").matches&&$(".hero-card.hero-product .hero-text-up .hero-text, .hero-card.hero-product .hero-text-up .hero-title").addClass("width85")},loadHero:function(e){HeroEs.effectBg(e),HeroEs.effectText(e),HeroEs.effectButton(e)},headerTransp:function(e){var o=e.parent().find("#headerTransparent").val();HeroEs.stringToBool(o)&&e.addClass("headerTransp")},effectButton:function(e){var o=e.find(".hero-links"),o=(new TimelineMax).from(o,1.5,{transform:"translate(0px, 30px)",opacity:"0",delay:.5});new ScrollMagic.Scene({triggerElement:e[0],reverse:!1}).setTween(o).addTo(HeroEs.controller)},effectText:function(e){var o=e.find(".hero-text-up"),o=(new TimelineMax).from(o,1.5,{transform:"translate(0px, 40px)",opacity:"0",delay:.5});new ScrollMagic.Scene({triggerElement:e[0],reverse:!1}).setTween(o).addTo(HeroEs.controller)},effectBg:function(e){var o=e.find(".img-zoom"),o=TweenMax.from(o,1.5,{transform:"scale(1.3)"}),o=(new ScrollMagic.Scene({triggerElement:e[0],reverse:!1}).setTween(o).addTo(HeroEs.controller),e.find(".bg-animate img")),o=TweenMax.from(o,1.5,{transform:"scale(1.5)"});new ScrollMagic.Scene({triggerElement:e[0],reverse:!1}).setTween(o).addTo(HeroEs.controller).on("start",function(){setTimeout(function(){$(".hero-es-component .bg-animate").addClass("d-none")},1500)})},stringToBool:function(e){return"true"===(e+"").toLowerCase()},videoResize:function(e){var o=e.find(".video-wrapper").attr("data-mov-vid"),r=e.find(".video-wrapper").attr("data-des-vid");window.matchMedia("(min-width: 800px)").matches?(HeroEs.videoExisMov=!1,HeroEs.videoExisDes||(e.find("source").attr("src",r),HeroEs.videoExisDes=!0,e.find("video")[0].load(),e.find("video")[0].play())):(HeroEs.videoExisDes=!1,HeroEs.videoExisMov||(e.find("source").attr("src",o),HeroEs.videoExisMov=!0,e.find("video")[0].load(),e.find("video")[0].play()))},shortcutsBackground:function(){var e,o;$(".hero-card").hasClass("has-shortcuts")&&(e=(o=$(".hero-card").closest(".hero")).find(".shortcuts-card"),0<(o=o.siblings().first()).length)&&-1!=o.attr("class").indexOf("rp-bg-")&&0<(o=o.children("[class*='-component']:first")).length&&(o=o.css("background-color"),e.parent().css("background-color",o))},setHeightBg:function(e){var o;window.matchMedia("(min-width: 1024px)").matches?(e.find(".image-bg").css("height","100%"),document.documentElement.style.setProperty("--heightMask","100%")):(o=e.find(".tier-card").outerHeight(),o=e.outerHeight()-(o-48),e.find(".image-bg").css("height",o),document.documentElement.style.setProperty("--heightMask",o+"px"))}},$(document).ready(function(){HeroEs.init()}),$(window).resize(function(){$(document).find(".hero-moments .hero-es-component:not(.isAuthor)").each(function(){HeroEs.videoResize($(this))}),$(document).find(".hero-es-component:not(.isAuthor) .hero-card.hero-tiers").each(function(){HeroEs.setHeightBg($(this))})});
HeroEsSearch={init:function(){HeroEsSearch.events()},events:function(){$(document).on("click",".hero-search-fragment .hero-search .rp-icon",function(){var e=$(this).parents(".search-content");Repsol.Analytics.clickSearch("header-search",e.find(".box-input input[name='search']").val()),HeroEsSearch.submitSearch(e)}),$(document).on("keypress",".hero-search-fragment .hero-search input",function(e){var r=$(this).parents(".search-content"),n=$(this).val();13==e.which&&0<n.length&&(Repsol.Analytics.clickSearch("header-search",r.find(".box-input input[name='search']").val()),HeroEsSearch.submitSearch(r))})},submitSearch:function(e){e.collapse("hide"),window.location.href=encodeURI(HeroEsSearch.getUrl(e))},getUrl:function(e){return e.parents("[data-url-search]").attr("data-url-search")+"#q="+e.find(".box-input input[name='search']").val()}},$(document).ready(function(){HeroEsSearch.init()});
